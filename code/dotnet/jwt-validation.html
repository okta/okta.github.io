<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
  <script>
    var isProduction = window.location.hostname === 'developer.okta.com';
    if (isProduction) {
      // TypeKit
      (function(d) {
        var config = {
          kitId: 'jff5neq',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);

      // Google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-15777010-3', 'auto');
      ga('send', 'pageview');

      // START Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TJ45R6');
      // END Google Tag Manager
    }
	</script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 	
  <link type="text/css" rel="stylesheet" href="/assets/animate-ec43d72c3ed45e08a460b8a2966d8dba6006aebfa0530935c3973fa493a8771f.css">
  <link type="text/css" rel="stylesheet" href="/assets/okta-5e6bf910e5a0721d71d9fb9af76c9807c5c9ba9a0cabb9b78fee8698d30b6b2c.css">
  
  
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
  <title>JWT Validation Guide | Okta Developer</title>
  <meta name="description" content="How to manually validate Okta JWTs with .NET (C#).">
  <link rel="canonical" href="https://developer.okta.com/code/dotnet/jwt-validation">
  <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="https://developer.okta.com/feed.xml"><!-- GA -->
</head>

<body>
  <div class="Page jwt-validation-guide">
    <!-- START Header -->
    
<header id="header">
      <div class="Wrap">
        <h1 class="logo"><a href="/">Okta</a></h1><!-- START Primary Nav -->
        <nav>
          <div id="top-nav">
            <a href="#" id="mobile-close" class="mobile-toggle">
              <span></span>
              <span></span>
            </a>
            <a class="Button--green" href="https://developer.okta.com/signup/" id="top-nav-cta">Get Started</a>
            <a class="SearchIcon" href="#"></a>
            <ul>
              <li>
                <a href="/product/">Product</a>
              </li>
              <li>
                <a href="/documentation/">Documentation</a>
              </li>
              <li>
                <a href="/code/">Code</a>
              </li>
              <li>
                <a href="/blog/">Blog</a>
              </li>
              <li class="has-dropdown">
                <a href="#">Support</a>
                <div class="dropdown-window">
                  <p class="devforum">Post your question on <a href="https://devforum.okta.com/" title="Okta Developer Forums" target="_blank">Okta Developer Forums</a></p>
                  <p class="email">Email us:<br>
                  <a href="mailto:developers@okta.com">developers@okta.com</a></p>
                  <p class="tel">Call us:<br>
                  <a href="tel:18887227871">1 (888) 722-7871</a></p>
                </div>
              </li>
            </ul>
            <form id="form_search" method="get" action="/search/" name="form_search">
              <input type="text" name="q" id="q" autocomplete="off">
            </form>
          </div>
          <div id="mobile-nav">
            <a id="mobile-search" href="/search/"><span class="icon-search-light"></span></a>
            <a id="mobile-open" class="mobile-toggle" href="#top-nav">
              <span></span>
              <span></span>
              <span></span>
            </a>
          </div>
        </nav><!-- END Primary Nav -->
      </div>
    </header>

    <!-- END Header -->
     <!-- START Page Center w/Sub Nav & Content -->
    <section class="PageContent DynamicSidebar has-tableOfContents">
      <!-- START Fixed sidebar --><aside class="Sidebar">
        <h2 class="Sidebar-location Sidebar-toggle h6">Navigation</h2>
        <div class="Sidebar-close Sidebar-toggle"></div>
        <div>
          <h3 class="Sidebar-title">Use Cases</h3>
          <ul class="Sidebar-nav">
            <li>
              <a href="/use_cases/authentication/">Authentication</a>
            </li>
            <li>
              <a href="/use_cases/mfa/">Multi-Factor Authentication</a>
            </li>
            <li>
              <a href="/use_cases/api_access_management/">API Access Management</a>
            </li>
            <li>
              <a href="/use_cases/integrate_with_okta/">Integrate with Okta</a>
            </li>
          </ul>
          <h3 class="Sidebar-title">Reference</h3>
          <ul class="Sidebar-nav">
            <li>
              <a href="/docs/api/getting_started/api_test_client.html">Getting Started</a>
            </li>
            <li>
              <a href="/docs/api/resources/authn.html">Authentication Reference</a>
            </li>
            <li>
              <a href="/docs/api/resources/apps.html">API Reference</a>
            </li>
            <li>
              <a href="/reference/error_codes/">Error Codes</a>
            </li>
            <li>
              <a href="/reference/okta_expression_language/">Okta Expression Language</a>
            </li>
            <li>
              <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
            </li>
          </ul>

          <h3 class="Sidebar-title">Standards</h3>
          <ul class="Sidebar-nav">
            
            
            
            <li>
              <a href="/standards/OAuth/">OAuth 2.0 and Okta</a>
            </li>
            
            
            <li>
              <a href="/standards/OIDC/">OpenID Connect and Okta</a>
            </li>
            
            
            <li>
              <a href="/standards/SAML/">SAML</a>
            </li>
            
            
            
            
            <li>
              <a href="/standards/SCIM/">SCIM Provisioning with Lifecycle Management</a>
            </li>
            
          </ul>
          <script>
            if (document.querySelectorAll("#Sidebar_Resources .is-active").length) {
                document.getElementById('Sidebar_Resources').classList.remove('Sidebar-hide');
            }

            if (document.querySelectorAll("#Sidebar_References .is-active").length) {
                document.getElementById('Sidebar_References').classList.remove('Sidebar-hide');
            }
          </script>
        </div>
      </aside>
<!-- END Fixed sidebar -->
      <!-- START Page Content -->
      <div class="PageContent-main" id="docs-body">
        <a id="edit-link" href="https://github.com/okta/okta.github.io/edit/master/_source/_code/dotnet/jwt-validation.md">Edit Page</a>
      <h1 id="overview">Overview</h1>

<p>When you use the Okta API to <a href="https://developer.okta.com/docs/api/resources/oauth2.html#obtain-an-authorization-grant-from-a-user">obtain an authorization grant for a user</a>, the response contains a signed JWT (<code class="highlighter-rouge">id_token</code> and/or <code class="highlighter-rouge">access_token</code>).</p>

<p>A common practice is to send one of these tokens in the <code class="highlighter-rouge">Bearer</code> header of future requests, to authorize the request for that user. Your server must then validate the token to make sure it’s authentic and hasn’t expired.</p>

<h2 id="who-should-use-this-guide">Who should use this guide</h2>

<p>You <strong>don’t</strong> need to validate tokens manually if:</p>

<ul>
  <li>You are using ASP.NET or ASP.NET Core with the <code class="highlighter-rouge">JwtBearer</code> or <code class="highlighter-rouge">OpenIdConnect</code> middleware</li>
  <li>You want to send tokens to Okta to be validated (this is called <a href="https://developer.okta.com/docs/api/resources/oauth2.html#introspection-request">token introspection</a>)</li>
</ul>

<p>If you need to validate a token manually, and don’t want to make a network call to Okta, this guide will help you validate tokens locally.</p>

<h2 id="what-youll-need">What you’ll need</h2>

<ul>
  <li>Your issuer URL</li>
  <li>JWT (string)</li>
  <li>Libraries for retrieving the signing keys and validating the token</li>
</ul>

<p>The issuer URL is the URL of your Authorization Server (like <code class="highlighter-rouge">https://dev-123.oktapreview.com/oauth2/abc123</code>), which you can find in the Okta Developer Dashboard:</p>

<p><img src="/assets/authz-server-issuer-8ea3bc88d14a7ab82e163e396d23f6a225030cd31ea9791a4044cfc3a8dc4de6.png" alt="Authorization Server Issuer&58; https&58;//dev-1234.oktapreview.com/oauth2/aus9o8wvkhockw9TL0h7" /></p>

<p>In this guide, you’ll use the official Microsoft OpenID Connect and JWT libraries, but you can adapt it to your preferred key parser and JWT validation libraries if necessary.</p>

<h2 id="get-the-signing-keys">Get the signing keys</h2>

<p>Okta signs JWTs using <a href="https://stackoverflow.com/a/39239395/3191599">asymmetric encryption (RS256)</a>, and publishes the public signing keys in a JWKS (JSON Web Key set) as part of the OAuth 2.0 and OpenID Connect discovery documents. The signing keys are rotated on a regular basis. The first step to verify a signed JWT is to retrieve the current signing keys.</p>

<p>The <code class="highlighter-rouge">OpenIdConnectConfigurationRetriever</code> class in the <a href="https://www.nuget.org/packages/Microsoft.IdentityModel.Protocols.OpenIdConnect/">Microsoft.IdentityModel.Protocols.OpenIdConnect</a> package will download and parse the discovery document to get the key set. You can use it in conjunction with the <code class="highlighter-rouge">ConfigurationManager</code> class, which will handle caching the response and refreshing it regularly:</p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="c1">// Replace with your issuer URL:
</span><span class="kt">var</span> <span class="n">issuer</span> <span class="p">=</span> <span class="s">"https://dev-123.oktapreview.com/oauth2/aus9o8wvkhockw9TL0h7"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">configurationManager</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ConfigurationManager</span><span class="p">&lt;</span><span class="n">OpenIdConnectConfiguration</span><span class="p">&gt;(</span>
    <span class="n">issuer</span> <span class="p">+</span> <span class="s">"/.well-known/oauth-authorization-server"</span><span class="p">,</span>
    <span class="k">new</span> <span class="nf">OpenIdConnectConfigurationRetriever</span><span class="p">(),</span>
    <span class="k">new</span> <span class="nf">HttpDocumentRetriever</span><span class="p">());</span>
</code></pre>
</div>

<p>Once you’ve instantiated the <code class="highlighter-rouge">configurationManager</code>, keep it around as a singleton. You only need to set it up once.</p>

<h2 id="validate-a-token">Validate a token</h2>

<p>The <code class="highlighter-rouge">JwtSecurityTokenHandler</code> class in the <a href="https://www.nuget.org/packages/System.IdentityModel.Tokens.Jwt">System.IdentityModel.Tokens.Jwt</a> package will handle the low-level details of validating a JWT.</p>

<p>You can write a method that takes the token, the issuer, and the <code class="highlighter-rouge">configurationManager</code> you created. The method is <code class="highlighter-rouge">async</code> because the <code class="highlighter-rouge">configurationManager</code> may need to make an HTTP call to get the signing keys (if they aren’t already cached):</p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="k">private</span> <span class="k">static</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">JwtSecurityToken</span><span class="p">&gt;</span> <span class="nf">ValidateToken</span><span class="p">(</span>
    <span class="kt">string</span> <span class="n">token</span><span class="p">,</span>
    <span class="kt">string</span> <span class="n">issuer</span><span class="p">,</span>
    <span class="n">IConfigurationManager</span><span class="p">&lt;</span><span class="n">OpenIdConnectConfiguration</span><span class="p">&gt;</span> <span class="n">configurationManager</span><span class="p">,</span>
    <span class="n">CancellationToken</span> <span class="n">ct</span> <span class="p">=</span> <span class="k">default</span><span class="p">(</span><span class="n">CancellationToken</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">token</span><span class="p">))</span> <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentNullException</span><span class="p">(</span><span class="nf">nameof</span><span class="p">(</span><span class="n">token</span><span class="p">));</span>
    <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">issuer</span><span class="p">))</span> <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentNullException</span><span class="p">(</span><span class="nf">nameof</span><span class="p">(</span><span class="n">issuer</span><span class="p">));</span>

    <span class="kt">var</span> <span class="n">discoveryDocument</span> <span class="p">=</span> <span class="k">await</span> <span class="n">configurationManager</span><span class="p">.</span><span class="nf">GetConfigurationAsync</span><span class="p">(</span><span class="n">ct</span><span class="p">);</span>
    <span class="kt">var</span> <span class="n">signingKeys</span> <span class="p">=</span> <span class="n">discoveryDocument</span><span class="p">.</span><span class="n">SigningKeys</span><span class="p">;</span>

    <span class="kt">var</span> <span class="n">validationParameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">TokenValidationParameters</span>
    <span class="p">{</span>
        <span class="n">ValidateIssuer</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
        <span class="n">ValidIssuer</span> <span class="p">=</span> <span class="n">issuer</span><span class="p">,</span>
        <span class="n">ValidateIssuerSigningKey</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
        <span class="n">IssuerSigningKeys</span> <span class="p">=</span> <span class="n">signingKeys</span><span class="p">,</span>
        <span class="n">ValidateLifetime</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
        <span class="c1">// Allow for some drift in server time
</span>        <span class="c1">// (a lower value is better; we recommend five minutes or less)
</span>        <span class="n">ClockSkew</span> <span class="p">=</span> <span class="n">TimeSpan</span><span class="p">.</span><span class="nf">FromMinutes</span><span class="p">(</span><span class="m">5</span><span class="p">),</span>
        <span class="c1">// See additional validation for aud below
</span>        <span class="n">ValidateAudience</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="k">try</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">principal</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">JwtSecurityTokenHandler</span><span class="p">()</span>
            <span class="p">.</span><span class="nf">ValidateToken</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">validationParameters</span><span class="p">,</span> <span class="k">out</span> <span class="kt">var</span> <span class="n">rawValidatedToken</span><span class="p">);</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">JwtSecurityToken</span><span class="p">)</span><span class="n">rawValidatedToken</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">catch</span> <span class="p">(</span><span class="n">SecurityTokenValidationException</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Logging, etc.
</span>
        <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>To use the method, pass it a token, and the issuer and <code class="highlighter-rouge">configurationManager</code> you declared earlier:</p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="kt">var</span> <span class="n">accessToken</span> <span class="p">=</span> <span class="s">"eyJh..."</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">validatedToken</span> <span class="p">=</span> <span class="k">await</span> <span class="nf">ValidateToken</span><span class="p">(</span><span class="n">accessToken</span><span class="p">,</span> <span class="n">issuer</span><span class="p">,</span> <span class="n">configurationManager</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">validatedToken</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Invalid token"</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="c1">// Additional validation...
</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Token is valid!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<p>This method will return an instance of <code class="highlighter-rouge">JwtSecurityToken</code> if the token is valid, or <code class="highlighter-rouge">null</code> if it is invalid. Returning <code class="highlighter-rouge">JwtSecurityToken</code> makes it possible to retrieve claims from the token later.</p>

<p>Depending on your application, you could change this method to return a <code class="highlighter-rouge">bool</code>, log specific exceptions like <code class="highlighter-rouge">SecurityTokenExpiredException</code> with a message, or handle validation failures in some other way.</p>

<h3 id="additional-validation-for-access-tokens">Additional validation for access tokens</h3>

<p>If you are validating access tokens, you should verify that the <code class="highlighter-rouge">aud</code> (Audience) claim equals the Audience that is configured for your Authorization Server in the Okta Developer Dashboard. For example, if your Authorization Server Audience is set to <code class="highlighter-rouge">MyAwesomeApi</code>, add this to the validation parameters:</p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="n">ValidateAudience</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
<span class="n">ValidAudience</span> <span class="p">=</span> <span class="s">"MyAwesomeApi"</span><span class="p">,</span>
</code></pre>
</div>

<p>You can also optionally verify that the <code class="highlighter-rouge">cid</code> claim matches the expected Client ID of the current application. You’ll have to perform this check after the <code class="highlighter-rouge">ValidateToken</code> method returns a validated token:</p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="kt">var</span> <span class="n">validatedToken</span> <span class="p">=</span> <span class="k">await</span> <span class="nf">ValidateToken</span><span class="p">(</span><span class="n">accessToken</span><span class="p">,</span> <span class="n">issuer</span><span class="p">,</span> <span class="n">configurationManager</span><span class="p">);</span>

<span class="c1">// Validate client ID
</span><span class="kt">var</span> <span class="n">expectedClientId</span> <span class="p">=</span> <span class="s">"xyz123"</span><span class="p">;</span> <span class="c1">// This Application's Client ID
</span><span class="kt">var</span> <span class="n">clientIdMatches</span> <span class="p">=</span> <span class="n">validatedToken</span><span class="p">.</span><span class="n">Payload</span><span class="p">.</span><span class="nf">TryGetValue</span><span class="p">(</span><span class="s">"cid"</span><span class="p">,</span> <span class="k">out</span> <span class="kt">var</span> <span class="n">rawCid</span><span class="p">)</span>
    <span class="p">&amp;&amp;</span> <span class="n">rawCid</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()</span> <span class="p">==</span> <span class="n">expectedClientId</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(!</span><span class="n">clientIdMatches</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">SecurityTokenValidationException</span><span class="p">(</span><span class="s">"The cid claim was invalid."</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="additional-validation-for-id-tokens">Additional validation for ID tokens</h3>

<p>When validating an ID token, you should verify that the <code class="highlighter-rouge">aud</code> (Audience) claim equals the Client ID of the current application. Add this to the validation parameters:</p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="n">ValidateAudience</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
<span class="n">ValidAudience</span> <span class="p">=</span> <span class="s">"xyz123"</span><span class="p">,</span> <span class="c1">// This Application's Client ID
</span></code></pre>
</div>

<p>If you specified a nonce during the initial code exchange when your application retrieved the ID token, you can verify that the nonce matches:</p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="kt">var</span> <span class="n">validatedToken</span> <span class="p">=</span> <span class="k">await</span> <span class="nf">ValidateToken</span><span class="p">(</span><span class="n">accessToken</span><span class="p">,</span> <span class="n">issuer</span><span class="p">,</span> <span class="n">configurationManager</span><span class="p">);</span>

<span class="c1">// Validate nonce
</span><span class="kt">var</span> <span class="n">expectedNonce</span> <span class="p">=</span> <span class="s">"foobar"</span><span class="p">;</span> <span class="c1">// Retrieve this from a saved cookie or other mechanism
</span><span class="kt">var</span> <span class="n">nonceMatches</span> <span class="p">=</span> <span class="n">validatedToken</span><span class="p">.</span><span class="n">Payload</span><span class="p">.</span><span class="nf">TryGetValue</span><span class="p">(</span><span class="s">"nonce"</span><span class="p">,</span> <span class="k">out</span> <span class="kt">var</span> <span class="n">rawNonce</span><span class="p">)</span>
    <span class="p">&amp;&amp;</span> <span class="n">rawNonce</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()</span> <span class="p">==</span> <span class="n">expectedNonce</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(!</span><span class="n">nonceMatches</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">SecurityTokenValidationException</span><span class="p">(</span><span class="s">"The nonce was invalid."</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="decode-token-claims">Decode token claims</h2>

<p>The sample <code class="highlighter-rouge">ValidateToken</code> method above both validates a token and decodes its claims. You can use the returned <code class="highlighter-rouge">JwtSecurityToken</code> object to inspect the claims in the token.</p>

<p>For example, you can get the <code class="highlighter-rouge">sub</code> (Subject) claim with the <code class="highlighter-rouge">Subject</code> property:</p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="err">$</span><span class="s">"Token subject: {validatedToken.Subject}"</span><span class="p">);</span>
</code></pre>
</div>

<p>You can access more claims with the <code class="highlighter-rouge">Payload</code> property, or loop over the entire <code class="highlighter-rouge">Claims</code> collection:</p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"All claims:"</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">claim</span> <span class="k">in</span> <span class="n">validatedToken</span><span class="p">.</span><span class="n">Claims</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="err">$</span><span class="s">"{claim.Type}\t{claim.Value}"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="conclusion">Conclusion</h2>

<p>This guide provides the basic steps required to locally verify an access or ID token signed by Okta. It uses packages from Microsoft for key parsing and token validation, but the general principles should apply to any JWT validation library.</p>

      </div>
      <div class="TableOfContents TableOfContentsPreload">
        <div class="TableOfContents-item is-level1">
          <script>
                  document.write(document.title.split('|')[0].trim());
          </script>
        </div>
        <div class="TableOfContentsLoader"></div>
      </div><!-- END Page Content -->
    </section><!-- END Page Center w/Sub Nav & Content -->

    <!-- START Footer -->
    <footer class="footer">
      <div class="Wrap">
        <ul>
          <li>
            <a href="https://www.okta.com" target="_blank">Okta.com</a>
          </li>
          <li>
            <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
          </li>
          <li>
            <a href="/terms/">Terms & Conditions</a>
          </li>
          <li>
            <a href="/3rd_party_notices/">3rd Party Notices</a>
          </li>
          <li>
            <a href="/privacy/">Privacy Policy</a>
          </li>
          <li>
            <a href="/contact/">Contact Sales</a>
          </li>
          <li>
            <a href="mailto:developers@okta.com">Contact Support</a>
          </li>
        </ul>
        <ul>
          <li>
            <a class="icon" href="http://github.com/oktadeveloper" target="_blank"><i class="fa fa-github"></i></a>
          </li>
          <li>
            <a class="icon" href="http://twitter.com/OktaDev" target="_blank"><i class="fa fa-twitter"></i></a>
          </li>
          <li>
            <a class="icon" href="https://devforum.okta.com/" title="Okta Developer Forums" target="_blank"><i class="fa fa-comments"></i></a>
          </li>
          <li>
            <a class="icon" href="http://feeds.feedburner.com/OktaBlog" target="_blank"><i class="fa fa-rss"></i></a>
          </li><!-- <li><a class="icon" href="http://community.okta.com" target="_blank"><i class="fa fa-comments"></i></a></li> -->
        </ul>
      </div>
    </footer>
    <script type="text/javascript" src="/assets/master-d164e3cb90ad42ea74c141546269db0efdbc2259b7d44b7f52babb60097099a8.js"></script>
    
    
    
    
      <script type="text/javascript" src="/assets/docs-a2d1c410ee8c45eaa505f76f4f72815741c3bb6532081ae1abe25e3d8d00f4fa.js"></script>
    

    <!-- END Footer -->
  </div>
  <!-- START Post Footer -->
  
  <!-- START Google Tag Manager -->
  <!-- https://support.google.com/tagmanager/answer/6103696?hl=en -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- END Google Tag Manager -->
  <!-- START Google Remarketing Tag -->
  <script type="text/javascript">
    /* <![CDATA[ */
    var google_conversion_id = 1006913831;
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
    /* ]]> */
  </script>
  <div style="display:none;"><script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script></div>
  <noscript><div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0"></div></noscript>
  <!-- END Google Remarketing Tag -->
  <!-- START Crazy Egg Tracking -->
  <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script>
  <!-- END Crazy Egg Tracking -->

  <!-- END Post Footer -->
</body>
</html>
