<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
  <script>
    var isProduction = window.location.hostname === 'developer.okta.com';
    if (isProduction) {
      // TypeKit
      (function(d) {
        var config = {
          kitId: 'jff5neq',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);

      // Google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-15777010-3', 'auto');
      ga('send', 'pageview');

      // START Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TJ45R6');
      // END Google Tag Manager
    }
	</script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 	
  <link type="text/css" rel="stylesheet" href="/assets/animate-ec43d72c3ed45e08a460b8a2966d8dba6006aebfa0530935c3973fa493a8771f.css">
  <link type="text/css" rel="stylesheet" href="/assets/okta-fe3337502d4360bcb36814ced8dd4f88ec4c9e7d7a0be6fa2995c3524314aa7d.css">
  
  
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
  <title>Set Up Authorization Service | Okta Developer</title>
  <meta name="description" content="Set Up an Authorization Service">
  <link rel="canonical" href="https://developer.okta.com/docs/how-to/set-up-auth-server.html">
  <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="https://developer.okta.com/feed.xml"><!-- GA -->
</head>

<body>
  <div class="Page set-up-authorization-service">
    <!-- START Header -->
    
<header id="header">
      <div class="Wrap">
        <h1 class="logo"><a href="/">Okta</a></h1><!-- START Primary Nav -->
        <nav>
          <div id="top-nav">
            <a href="#" id="mobile-close" class="mobile-toggle">
              <span></span>
              <span></span>
            </a>
            <a class="Button--green" href="https://developer.okta.com/signup/" id="top-nav-cta">Get Started</a>
            <a class="SearchIcon" href="#"></a>
            <ul>
              <li>
                <a href="/product/">Product</a>
              </li>
              <li>
                <a href="/documentation/">Documentation</a>
              </li>
              <li>
                <a href="/code/">Code</a>
              </li>
              <li class="has-dropdown">
                <a href="#">Support</a>
                <div class="dropdown-window">
                  <p class="devforum">Post your question on <a href="https://devforum.okta.com/" title="Okta Developer Forums" target="_blank">Okta Developer Forums</a></p>
                  <p class="email">Email us:<br>
                  <a href="mailto:developers@okta.com">developers@okta.com</a></p>
                  <p class="tel">Call us:<br>
                  <a href="tel:18887227871">1 (888) 722-7871</a></p>
                </div>
              </li>
            </ul>
            <form id="form_search" method="get" action="/search/" name="form_search">
              <input type="text" name="q" id="q" autocomplete="off">
            </form>
          </div>
          <div id="mobile-nav">
            <a id="mobile-search" href="/search/"><span class="icon-search-light"></span></a>
            <a id="mobile-open" class="mobile-toggle" href="#top-nav">
              <span></span>
              <span></span>
              <span></span>
            </a>
          </div>
        </nav><!-- END Primary Nav -->
      </div>
    </header>

    <!-- END Header -->
     <!-- START Page Center w/Sub Nav & Content -->
    <section class="PageContent DynamicSidebar has-tableOfContents">
      <!-- START Fixed sidebar --><aside class="Sidebar">
        <h2 class="Sidebar-location Sidebar-toggle h6">Navigation</h2>
        <div class="Sidebar-close Sidebar-toggle"></div>
        <div>
          <h3 class="Sidebar-title">Use Cases</h3>
          <ul class="Sidebar-nav">
            <li>
              <a href="/use_cases/authentication/">Authentication</a>
            </li>
            <li>
              <a href="/use_cases/mfa/">Multi-Factor Authentication</a>
            </li>
            <li>
              <a href="/use_cases/api_access_management/">API Access Management</a>
            </li>
            <li>
              <a href="/use_cases/integrate_with_okta/">Integrate with Okta</a>
            </li>
          </ul>
          <h3 class="Sidebar-title">Reference</h3>
          <ul class="Sidebar-nav">
            <li>
              <a href="/docs/api/getting_started/api_test_client.html">Getting Started</a>
            </li>
            <li>
              <a href="/docs/api/resources/authn.html">Authentication Reference</a>
            </li>
            <li>
              <a href="/docs/api/resources/apps.html">API Reference</a>
            </li>
            <li>
              <a href="/reference/error_codes/">Error Codes</a>
            </li>
            <li>
              <a href="/reference/okta_expression_language/">Okta Expression Language</a>
            </li>
            <li>
              <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
            </li>
          </ul>

          <h3 class="Sidebar-title">Standards</h3>
          <ul class="Sidebar-nav">
            
            
            
            <li>
              <a href="/standards/OAuth/">OAuth 2.0 and Okta</a>
            </li>
            
            
            <li>
              <a href="/standards/OIDC/">OpenID Connect and Okta</a>
            </li>
            
            
            <li>
              <a href="/standards/SAML/">SAML</a>
            </li>
            
            
            
            
            <li>
              <a href="/standards/SCIM/">SCIM Provisioning with Lifecycle Management</a>
            </li>
            
          </ul>
          <script>
            if (document.querySelectorAll("#Sidebar_Resources .is-active").length) {
                document.getElementById('Sidebar_Resources').classList.remove('Sidebar-hide');
            }

            if (document.querySelectorAll("#Sidebar_References .is-active").length) {
                document.getElementById('Sidebar_References').classList.remove('Sidebar-hide');
            }
          </script>
        </div>
      </aside>
<!-- END Fixed sidebar -->
      <!-- START Page Content -->
      <div class="PageContent-main" id="docs-body">
        <a id="edit-link" href="https://github.com/okta/okta.github.io/edit/master/_source/_docs/how-to/set-up-auth-server.md">Edit Page</a>
      <h1 id="overview">Overview</h1>

<p><a href="/docs/api/getting_started/releases-at-okta.html#early-access-ea"> <span class="api-label api-label-ea "> <i class="fa fa-flag"></i> Early Access </span> </a></p>

<p>API Access Management is an <strong>Early Access</strong> (EA) feature; contact Okta support to enable it.</p>

<p>API Access Management allows you to build custom authorization servers in Okta which can be used to protect your own API endpoints.
An authorization server defines your security boundary, for example “staging” or “production.”
Within each authorization server you can define your own OAuth scopes, claims, and access policies.
This allows your apps and your APIs to anchor to a central authorization point and leverage the rich identity features of Okta,
such as Universal Directory for transforming attributes, adaptive MFA for end-users, analytics, and system log, and extend it out to the API economy.</p>

<p>At its core, an authorization server is simply an OAuth 2.0 token minting engine.
Each authorization server has a unique <a href="https://tools.ietf.org/html/rfc7519#section-4.1.1">issuer URI</a>
and its own signing key for tokens in order to keep proper boundary between security domains.
The authorization server also acts as an <a href="http://openid.net/connect/">OpenID Connect Provider</a>,
which means you can request <a href="http://openid.net/specs/openid-connect-core-1_0.html#IDToken">ID tokens</a>
in addition to <a href="https://tools.ietf.org/html/rfc6749#section-1.4">access tokens</a> from the authorization server endpoints.</p>

<p>How do you know if you need to use Okta’s Authorization Server instead of the authorization service that is
built in to your Okta app?</p>

<ul>
  <li>You need to protect non-Okta resources.</li>
  <li>You need different authorization policies depending on whether the person is an employee, partner, or end user, or
other similar specializations.</li>
</ul>

<blockquote>
  <p>Note: If your employees, partners, and users can all use the same authentication policies for single sign-on,
try <a href="https://support.okta.com/help/articles/Knowledge_Article/Single-Sign-On-Knowledge-Hub">Okta’s built in authorization service</a>.</p>
</blockquote>

<h2 id="set-up-an-authorization-server">Set Up an Authorization Server</h2>

<p>Create and configure an Okta Authorization Server to manage authorization between clients and Okta:</p>

<ul>
  <li>Identify the scopes and claims needed by your client app and register it with Okta.</li>
  <li>Create one or more Authorization Servers and (optionally) define the scopes and claims to match those expected by your app.</li>
</ul>

<p>It doesn’t matter which of these two you do first, but the client app must recognize the scope names and be expecting the claims as defined in the Authorization Server.</p>

<p>This document provides step-by-step instructions for creating and configuring the Authorization Server:</p>

<ol>
  <li><a href="#create-an-authorization-server">Create an Authorization Server</a></li>
  <li><a href="#create-access-policies">Create access policies and rules</a></li>
  <li>(Optional) <a href="#create-scopes-optional">Create scopes</a></li>
  <li>(Optional) <a href="#create-claims-optional">Create claims</a></li>
  <li><a href="#test-your-authorization-server-configuration">Test the Authorization Server</a></li>
</ol>

<h3 id="create-an-authorization-server">Create an Authorization Server</h3>

<ol>
  <li>
    <p>In the Okta user interface, navigate to <strong>Security &gt; API</strong>.
<img src="/assets/auth_server_image-adf4e708e2fabbf3bd34092c464a88ea7fcc5cf9c63e81884f4dd2b8b761edd5.png" alt="Authorization Server" width="640px" /></p>
  </li>
  <li>
    <p>Choose <strong>Add Authorization Server</strong> and supply the requested information.</p>

    <ul>
      <li><strong>Name</strong></li>
      <li><strong>Audience:</strong> URI for the OAuth resource that consumes the Access Tokens. Use an absolute path such as <code class="highlighter-rouge">http://api.example.com/pets</code>.
This value is used as the default <a href="https://tools.ietf.org/html/rfc7519#section-4.1.3">audience</a> for Access Tokens.</li>
      <li><strong>Description</strong></li>
    </ul>
  </li>
</ol>

<p>When complete, your Authorization Server’s <strong>Settings</strong> tab displays the information that you provided and allows you to edit it.
<img src="/assets/auth_server2-839d3486c777b77ca22f2a5d308e5f799deb631d920ca0925d69d3d8ba7dba53.png" alt="Add Authorization Server" width="640px" /></p>

<h3 id="create-access-policies">Create Access Policies</h3>

<p>Create access policies and rules for a client or set of clients.</p>

<ol>
  <li>In the Okta user interface, navigate to <strong>Security &gt; API</strong>.</li>
  <li>Choose the name of an Authorization Server.</li>
  <li>Choose <strong>Access Policies &gt; Add New Access Policy</strong>
 <img src="/assets/access_policy1-7bad7daa819a2904caacb41ef8f0e69fe54a83943331bbe4e6dad9175b322a4c.png" alt="Add Access Policy" width="640px" /></li>
  <li>Provide the requested information:
    <ul>
      <li><strong>Name</strong></li>
      <li><strong>Description</strong></li>
      <li>Assign to <strong>All clients</strong>, or select <strong>The following clients:</strong> and enter the name of the clients covered by this access policy.
 <img src="/assets/access_policy2-f92d5d54db0a5020bf674529ead8a4328c50a14498897ff235c5e09e21a07245.png" alt="Access Policy Configuration" width="640px" /></li>
    </ul>
  </li>
</ol>

<p>While in the Access Policy list, you can:</p>
<ul>
  <li>Set access policies to be active or deactivate them for testing or debugging purposes.</li>
  <li>Reorder any policies you create using drag-n-drop.
  <img src="/assets/access_policy3-5d8ee78d2b36b0217a4817df198f2f5fa4a047cf41bb1a561a44000f00fbff53.png" alt="Access Policy List" width="640px" /></li>
</ul>

<p>Polices are evaluated in priority order, as are the rules in a policy.
The first policy and rule that matches the client request is applied and no further rule or policy processing occurs. If a client matches no policies, the authentication attempt will fail and an error will be returned.</p>

<h3 id="create-rules-for-each-access-policy">Create Rules for Each Access Policy</h3>

<p>Rules control the mapping of client, user, and custom scope. For example, you can specify a rule for an access policy so that if the user is assigned to a client, then custom scope <code class="highlighter-rouge">scope1</code> is valid.</p>

<ol>
  <li>In the Okta user interface, navigate to <strong>Security &gt; API</strong>.</li>
  <li>Choose the name of an authorization server, and select <strong>Access Policies</strong>.</li>
  <li>Choose the name of an access policy, and select <strong>Add Rule</strong>
 <img src="/assets/rule1-67f591048027abffc3b2a50646b2871393c9f0e99981bfc9e36f31277f563492.png" alt="Add Rule" width="640px" /></li>
  <li>Enter the requested information:
    <ul>
      <li><strong>Rule Name</strong></li>
      <li><strong>IF Grant type is:</strong> Select one or more OAuth 2.0 grant types.</li>
      <li><strong>AND User is:</strong> Select whether there’s no user (client credentials flow), or a user assigned to a client that’s assigned to this rule’s policy, or a user assigned to one or more groups that you specify or a list of users that you specify.</li>
      <li><strong>AND Requested these scopes:</strong> Choose the scopes (any scopes, or a list that you specify) that can be requested by the user as part of the rule conditions.</li>
      <li><strong>THEN Access token lifetime is:</strong> Choose the length of time before an access token expires.</li>
      <li><strong>THEN Refresh token lifetime is:</strong> Choose the length of time before a refresh token expires.</li>
    </ul>
  </li>
  <li>Choose <strong>Create Rule</strong> to save the rule.
 <img src="/assets/rule2-f49350a1eac09284c9a26e376596991e0d5cb88eac59a6f84accdd7234f3aa13.png" alt="Rules List" width="640px" /></li>
</ol>

<p>While in the Rules list for an access policy, you can:</p>

<ul>
  <li>Set a rule to be inactive for testing or debugging.</li>
  <li>Reorder rules. Rules are evaluated in priority order, so the first rule in the first policy that matches the client request is applied and no further processing occurs.</li>
</ul>

<blockquote>
  <p>Note: Service applications (client credentials flow) have no user. If you use this flow, make sure you have at least one rule that specifies the condition <strong>No user</strong>.</p>
</blockquote>

<p>At this point you can keep reading to find out how to create custom scopes and claims, or proceed immediately to <a href="#test-your-authorization-server-configuration">Testing your Authorization Server</a>.</p>

<h3 id="create-scopes-optional">Create Scopes (Optional)</h3>

<p>Scopes represent high-level operations that can be performed on your API endpoints.
These are coded into applications, which then ask for them from the authorization server,
and the access policy decides which ones to grant and which ones to deny.</p>

<p>If you need scopes in addition to the reserved scopes provided, create them now.</p>

<ol>
  <li>In the Okta user interface, navigate to <strong>Security &gt; API</strong>.</li>
  <li>
    <p>Choose the name of the Authorization Server to display, and then select <strong>Scopes</strong>.
<img src="/assets/scope1-6dc3ae8c21e3b8b770dd23f9393ab24e729163d7f965d89560b9013832d5f420.png" alt="Add Scopes" width="800px" /></p>
  </li>
  <li>Choose <strong>Scopes &gt; Add Scope</strong>, and provide a name and description, then choose <strong>Create</strong> to save the scope.
<img src="/assets/scope2-bd068de0f47389b197cb1992fddca6c6ce6ebfbbc1d9784dba5043a9f0897618.png" alt="View Scopes" width="800px" /></li>
</ol>

<p>These scopes are referenced by the <strong>Claims</strong> dialog.</p>

<h3 id="create-claims-optional">Create Claims (Optional)</h3>

<p>Tokens contain claims that are statements about the subject or another subject, for example name, role, or email address.</p>

<p>Create ID Token claims for OpenID Connect, or Access Tokens for OAuth 2.0:</p>

<ol>
  <li>In the Okta user interface, navigate to <strong>Security &gt; API</strong>.</li>
  <li>Choose the name of the Authorization Server to display, and choose <strong>Claims</strong>.
<img src="/assets/claims1-a1bd8fc8c14a13018cfaddef2e7f0d87820edc3785f1605b005addf648f32c9d.png" alt="Choose Claims" width="800px" />
 Okta provides a default subject claim. You can edit the mapping, or create your own claims.</li>
  <li>
    <p>Choose <strong>Add Claim</strong> and provide the requested information.
<img src="/assets/claim-5f4f8ef4754717e7f0d7580e2f182a709dd061e96678c6f9ddf14dfed733f6ed.png" alt="Edit Claims" width="800px" /></p>

    <ul>
      <li><strong>Name</strong></li>
      <li><strong>Claim type</strong>: Choose Access Token (Oauth 2.0) or ID Token (OpenID Connect).</li>
      <li><strong>Value type</strong>: Choose whether you’ll define the claim by a group filter or by an <strong>Expression</strong> written in Okta Expression Language.
        <ul>
          <li><strong>Mapping</strong>: This option displays if you chose <strong>Expression</strong> in the previous field. Add the mapping here using <a href="/reference/okta_expression_language/">Okta’s Expression Language</a>, for example <code class="highlighter-rouge">appuser.username</code>.
Be sure to check that your expression returns the results expected–the expression isn’t validated here.</li>
          <li><strong>Filter</strong>: This option displays if you chose <strong>Groups</strong> in the previous field. Use it to add a group filter. If you leave it blank, all users are specified for this claim.</li>
        </ul>
      </li>
      <li><strong>Disable claim</strong>: Check this option if you want to temporarily disable the claim for testing or debugging.</li>
      <li><strong>Include in</strong>: Specify whether the claim is valid for any scope, or select the scopes for which it is valid.</li>
    </ul>
  </li>
</ol>

<p>While in the Claims list, you can:</p>

<ul>
  <li>Sort claims by type.</li>
  <li>
    <p>Delete claims you’ve created, or disable claims for testing or debugging purposes.</p>

    <p><img src="/assets/claims2-d5a8773bfc78c06f275cdebb3d6045cbbeb1a4d6f578dd36b0a408e608d0aed8.png" alt="Claims List" width="640px" /></p>
  </li>
</ul>

<h2 id="test-your-authorization-server-configuration">Test Your Authorization Server Configuration</h2>

<p>Once you have followed the above instructions to set-up an Authorization Server, you can test it by sending any one of the API calls that returns OAuth 2.0 and/or OpenID Connect tokens. A full description of Okta’s relevant APIs can be found here: <a href="/docs/api/resources/oauth2.html#authorization-operations">OAuth 2.0 Authorization Operations</a>.</p>

<p>We have included here a few things that you can try to ensure that your Authorization Server is functioning as expected.</p>

<blockquote>
  <p>Note: This is not meant to be an exhaustive testing reference, but only to show some examples.</p>
</blockquote>

<h3 id="openid-connect-configuration">OpenID Connect Configuration</h3>

<p>To verify that your server was created and has the expected configuration values, you can send an API request to the Server’s OpenID Connect Metadata URI: <code class="highlighter-rouge">/oauth2/:authorizationServerId/.well-known/openid-configuration</code> using an HTTP client or by typing the URI inside of a browser. This will return information about the OpenID configuration of your Authorization Server, though it does not currently return any custom scopes or claims that you might have created.</p>

<p>For more information on this endpoint, see here: <a href="/docs/api/resources/oauth2.html#retrieve-authorization-server-openid-connect-metadata">Retrieve Authorization Server OpenID Connect Metadata</a>.</p>

<h3 id="custom-scopes-and-claims">Custom Scopes and Claims</h3>

<p>You can retrieve a list of all scopes for your Authorization Server, including custom ones, using this endpoint:</p>

<p><code class="highlighter-rouge">/api/v1/authorizationServers/:authorizationServerId/scopes</code></p>

<p>For more information on this endpoint, see here: <a href="/docs/api/resources/oauth2.html#get-all-scopes">Get all scopes</a>.</p>

<p>If you created any custom claims, the easiest way to confirm that they have been successfully added is to use this endpoint:</p>

<p><code class="highlighter-rouge">/api/v1/authorizationServers/:authorizationServerId/claims</code></p>

<p>For more information on this endpoint, see here: <a href="/docs/api/resources/oauth2.html#get-all-claims">Get all claims</a>.</p>

<h3 id="testing-an-openid-connect-flow">Testing an OpenID Connect Flow</h3>

<p>To test your Authorization Server more thoroughly, you can try a full authentication flow which returns an ID Token. To do this, you will need a client Application in Okta with at least one User assigned to it.</p>

<p>For more information you can read about:</p>
<ul>
  <li><a href="https://help.okta.com/en/prev/Content/Topics/Apps/Apps_App_Integration_Wizard.htm">The OpenID Connect Application Wizard</a></li>
  <li><a href="https://support.okta.com/help/Documentation/Knowledge_Article/27418177-Using-the-Okta-Applications-Page#Assigning">How to assign a User to an Application</a></li>
</ul>

<p>You will need the following values from your Application:</p>

<ul>
  <li>Client ID</li>
  <li>A valid Redirect URI</li>
</ul>

<p>Once you have an OpenID Connect Application set-up, and a User assigned to it you can try the authentication flow.</p>

<p>First, you will need your Authorization Server’s Authorization Endpoint, which you can retrieve using the Server’s Metadata URI: <code class="highlighter-rouge">/oauth2/:authorizationServerId/.well-known/openid-configuration</code>. It will look like this:</p>

<p><code class="highlighter-rouge">https://example.okta.com/oauth2/:authorizationServerId/v1/authorize</code></p>

<p>To this you will need to add the following URL query parameters:</p>

<ul>
  <li>Your OpenID Connect Application’s <code class="highlighter-rouge">client_id</code> and <code class="highlighter-rouge">redirect_uri</code></li>
  <li>A <code class="highlighter-rouge">scope</code>, which for the purposes of this test will be <code class="highlighter-rouge">openid</code> and <code class="highlighter-rouge">profile</code></li>
  <li>A <code class="highlighter-rouge">response_mode</code> which you can set to <code class="highlighter-rouge">fragment</code></li>
  <li>(Optionally) <code class="highlighter-rouge">state</code> and <code class="highlighter-rouge">nonce</code> values</li>
</ul>

<p>All of the values are fully documented here: <a href="/docs/api/resources/oauth2.html#obtain-an-authorization-grant-from-a-user">Obtain an Authorization Grant from a User</a>.</p>

<p>The resulting URL would look like this:</p>

<p><code class="highlighter-rouge">https://example.okta.com/oauth2/:authorizationServerId/v1/authorize?client_id=examplefa39J4jXdcCwWA&amp;response_type=id_token&amp;response_mode=fragment&amp;scope=openid%20profile&amp;redirect_uri=https%3A%2F%2FyourRedirectUriHere.com&amp;state=WM6D&amp;nonce=YsG76jo</code></p>

<p>If you paste this into your browser you are redirected to the sign-in page for your Okta org, with a URL that looks like this:</p>

<p><code class="highlighter-rouge">https://example.okta.com/login/login.htm?fromURI=%2Foauth2%2Fv1%2Fauthorize%2Fredirect%3Fokta_key%aKeyValueWillBeHere</code></p>

<p>Here you enter in the credentials for a user who is mapped to your Open ID Connect Application and you will be directed to the <code class="highlighter-rouge">redirect_uri</code> that you specified along with an ID Token, and any state that you included as well:</p>

<p><code class="highlighter-rouge">https://yourRedirectUriHere.com/#id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6ImluZUdjZVQ4SzB1SnZyWGVUX082WnZLQlB2RFowO[...]z7UvPoMEIjuBTH-zNkTS5T8mGbY8y7532VeWKA&amp;state=WM6D</code></p>

<p>To check the returned ID Token you can copy the value and paste it into your JWT decoder of choice (for example <a href="https://jsonwebtoken.io">https://jsonwebtoken.io</a>). There you can check the payload to confirm that it contains all of the claims that you are expecting, including custom ones. If you specified a <code class="highlighter-rouge">nonce</code> you will also find it there:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00uawpa4r4Zybz9On0h7"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jakub Vulcan"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"ver"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
 </span><span class="nt">"iss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.okta.com/oauth2/:authorizationServerId"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"aud"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fa39J40exampleXdcCwWA"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"iat"</span><span class="p">:</span><span class="w"> </span><span class="mi">1498328175</span><span class="p">,</span><span class="w">
 </span><span class="nt">"exp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1498331912</span><span class="p">,</span><span class="w">
 </span><span class="nt">"jti"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID.fL39TTtvfBQoyHVkrbaqy9hWooqGOOgWau1W_y-KNyY"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"amr"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="s2">"pwd"</span><span class="w">
 </span><span class="p">],</span><span class="w">
 </span><span class="nt">"idp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"examplefz3q4Yd3Zk70h7"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YsG76jo"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"preferred_username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@mailinator.com"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"given_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"family_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"zoneinfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Los_Angeles"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1498155598</span><span class="p">,</span><span class="w">
 </span><span class="nt">"auth_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1498328174</span><span class="p">,</span><span class="w">
 </span><span class="nt">"preferred_honorific"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Commodore"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>In this example we see the <code class="highlighter-rouge">nonce</code> with value <code class="highlighter-rouge">YsG76jo</code> and the custom claim <code class="highlighter-rouge">preferred_honorific</code> with value <code class="highlighter-rouge">Commodore</code>.</p>

<p>At this point you have set-up your Authorization Server and confirmed that it is working!</p>

      </div>
      <div class="TableOfContents TableOfContentsPreload">
        <div class="TableOfContents-item is-level1">
          <script>
                  document.write(document.title.split('|')[0].trim());
          </script>
        </div>
        <div class="TableOfContentsLoader"></div>
      </div><!-- END Page Content -->
    </section><!-- END Page Center w/Sub Nav & Content -->

    <!-- START Footer -->
    <footer class="footer">
      <div class="Wrap">
        <ul>
          <li>
            <a href="https://www.okta.com" target="_blank">Okta.com</a>
          </li>
          <li>
            <a href="/blog/">Blog</a>
          </li>
          <li>
            <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
          </li>
          <li>
            <a href="/terms/">Terms & Conditions</a>
          </li>
          <li>
            <a href="/3rd_party_notices/">3rd Party Notices</a>
          </li>
          <li>
            <a href="/privacy/">Privacy Policy</a>
          </li>
          <li>
            <a href="/contact/">Contact Sales</a>
          </li>
          <li>
            <a href="mailto:developers@okta.com">Contact Support</a>
          </li>
        </ul>
        <ul>
          <li>
            <a class="icon" href="http://github.com/oktadeveloper" target="_blank"><i class="fa fa-github"></i></a>
          </li>
          <li>
            <a class="icon" href="http://twitter.com/okta" target="_blank"><i class="fa fa-twitter"></i></a>
          </li>
          <li>
            <a class="icon" href="https://devforum.okta.com/" title="Okta Developer Forums" target="_blank"><i class="fa fa-comments"></i></a>
          </li>
          <li>
            <a class="icon" href="http://feeds.feedburner.com/OktaBlog" target="_blank"><i class="fa fa-rss"></i></a>
          </li><!-- <li><a class="icon" href="http://community.okta.com" target="_blank"><i class="fa fa-comments"></i></a></li> -->
        </ul>
      </div>
    </footer>
    <script type="text/javascript" src="/assets/master-d164e3cb90ad42ea74c141546269db0efdbc2259b7d44b7f52babb60097099a8.js"></script>
    
    
    
    
      <script type="text/javascript" src="/assets/docs-a2d1c410ee8c45eaa505f76f4f72815741c3bb6532081ae1abe25e3d8d00f4fa.js"></script>
    

    <!-- END Footer -->
  </div>
  <!-- START Post Footer -->
  
  <!-- START Google Tag Manager -->
  <!-- https://support.google.com/tagmanager/answer/6103696?hl=en -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- END Google Tag Manager -->
  <!-- START Google Remarketing Tag -->
  <script type="text/javascript">
    /* <![CDATA[ */
    var google_conversion_id = 1006913831;
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
    /* ]]> */
  </script>
  <div style="display:none;"><script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script></div>
  <noscript><div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0"></div></noscript>
  <!-- END Google Remarketing Tag -->
  <!-- START Crazy Egg Tracking -->
  <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script>
  <!-- END Crazy Egg Tracking -->

  <!-- END Post Footer -->
</body>
</html>
