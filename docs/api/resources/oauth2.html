<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    <script src="//use.typekit.net/jff5neq.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
    
    
    <link rel="stylesheet" type="text/css" media="all" href="/assets/css/animate.css">
    <link rel="stylesheet" type="text/css" media="all" href="/assets/css/okta.css">

    <title>OAuth 2.0 | Okta Developer</title>
    <meta name="description" content="OAuth 2.0 API">
    <link rel="canonical" href="http://developer.okta.com/docs/api/resources/oauth2.html">
    <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="http://developer.okta.com/feed.xml">

    <!-- GA -->
    <script>
    	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    	ga('create', 'UA-15777010-3', 'auto');
    	ga('send', 'pageview');
    </script>
</head>

  <body>
	<div class="Page">
          <!-- START Header -->
	  <header id="header">
    <div class="Wrap">
        <h1 class="logo"><a href="/">Okta</a></h1>

        <!-- START Primary Nav -->
        <nav>
            <div id="top-nav">
                <a href="#" id="mobile-close" class="mobile-toggle">
                    <span></span>
                    <span></span>
                </a>


                <a class="Button--green" href="https://www.okta.com/developer/signup">Get Started</a>
                <a class="SearchIcon" href="#"></a>
                <ul>
						<li><a href="/product/">Product</a></li>
						<li><a href="/documentation/">Documentation</a></li>
						<li><a href="/code/">Code</a></li>
                    <li class="has-dropdown">
                        <a href="#">Support</a>
                        <div class="dropdown-window">
                            <p class="stack-overflow">
	                                Post your question on <a href="http://stackoverflow.com/search?q=okta" target="_blank">Stack Overflow</a>
	                            </p>
                            <p class="email">
                                Email us:<br>
                                <a href="mailto:developers@okta.com">developers@okta.com</a>
                            </p>
                            <p class="tel">
                                Call us:<br>
                                <a href="tel:18887227871">1 (888) 722-7871</a>
                            </p>
                        </div>
                    </li>
                </ul>
                <form id="form_search" method="get" action="http://developer.okta.com/search/">
                    <input type="text" name="q" id="q" autocomplete="off">
                </form>
            </div>

            <div id="mobile-nav">
                <a id="mobile-search" href="http://developer.okta.com/search/"><span class="icon-search-light"></span></a>
                <a id="mobile-open" class="mobile-toggle" href="#top-nav">
                    <span></span>
                    <span></span>
                    <span></span>
                </a>
            </div>
        </nav>
        <!-- END Primary Nav -->
    </div>
</header>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TJ45R6');</script>
<!-- End Google Tag Manager -->

	  <!-- END Header -->
	      <!-- START Page Center w/Sub Nav & Content -->
    <section class="PageContent DynamicSidebar has-tableOfContents">
      <!-- START Fixed sidebar -->
      <aside class="Sidebar">
    <h2 class="Sidebar-location Sidebar-toggle h6">Navigation</h3>
    <div class="Sidebar-close Sidebar-toggle"></div>
    <div>
        <h3 class="Sidebar-title">Use Cases</h3>
        <ul class="Sidebar-nav">
            
            
            
                
            
                
            
                
            
                
            
                
            
                
            
            <li><a href="/use_cases/authentication">Authentication</a></li>
            
            
            <li><a href="/use_cases/mfa">Multi-Factor Authentication</a></li>
            
            
            <li><a href="/use_cases/integrate_with_okta">Integrate with Okta</a></li>
            
        </ul>

        <h3 class="Sidebar-title">Reference</h3>
        <ul class="Sidebar-nav">
            <li>
                <a href="/docs/api/getting_started/api_test_client.html">Getting Started</a>
                
            </li>

            
            

            <li>
                <a href="/docs/api/resources/authn.html">Authentication Reference</a>

                
                    <ul id="Sidebar_References" class="Sidebar-hide">
                        
                        
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/authn.html">Authentication API</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li class="is-active"><a href="/docs/api/resources/oauth2.html">OAuth 2.0</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/oidc.html">OpenID Connect</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/social_authentication.html">Social Authentication</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/sessions.html">Sessions</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                    </ul>
                
            </li>

            <li>
                <a href="/docs/api/resources/apps.html">API Reference</a>

                
                    <ul id="Sidebar_Resources" class="Sidebar-hide">
                        
                        
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/apps.html">Apps</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/events.html">Events</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/factors.html">Factors</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/groups.html">Groups</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/idps.html">Identity Providers</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/roles.html">Admin Roles</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/schemas.html">Schemas API</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/system_log.html">System Log (Beta)</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/templates.html">Templates</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <li><a href="/docs/api/resources/users.html">Users</a></li>
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                        
                    </ul>
                

            </li>
            
            
                
                
                
                
                
                
                
                
                
                
                
                
                

                <li>
                    <a href="/reference/error_codes">
                        Error Codes
                    </a>
                </li>
            
                
                
                
                
                
                
                
                
                

                <li>
                    <a href="/reference/okta_expression_language">
                        Okta Expression Language
                    </a>
                </li>
            
                
                
                
                
                

                <li>
                    <a href="/docs/platform-release-notes/platform-release-notes.html">
                        Platform Release Notes
                    </a>
                </li>
            
        </ul>

        

        <script>
            if (document.querySelectorAll("#Sidebar_Resources .is-active").length) {
                document.getElementById('Sidebar_Resources').classList.remove('Sidebar-hide');
            }

            if (document.querySelectorAll("#Sidebar_References .is-active").length) {
                document.getElementById('Sidebar_References').classList.remove('Sidebar-hide');
            }
        </script>

    </div>
</aside>

      <!-- END Fixed sidebar -->
      <!-- START Page Content -->
      <div class="PageContent-main" id="docs-body">
      <h1 id="oauth-20-api">OAuth 2.0 API</h1>

<p>Okta is a fully standards-compliant <a href="http://oauth.net/documentation">OAuth 2.0</a> authorization server and a certified <a href="http://openid.net/certification">OpenID Provider</a>. 
The OAuth 2.0 APIs provide API security via scoped access tokens, and OpenID Connect provides user authentication and an SSO layer which is lighter and easier to use than SAML.</p>

<p>There are several use cases and Okta product features built on top of the OAuth 2.0 APIs:</p>

<ul>
  <li>Social Authentication – <span class="api-label api-label-ea "><i class="fa fa-flag"></i> Early Access</span></li>
  <li>OpenID Connect – <span class="api-label api-label-ea "><i class="fa fa-flag"></i> Early Access</span></li>
  <li>API Access Management – <span class="api-label api-label-beta "><i class="fa fa-warning"></i> Beta</span></li>
</ul>

<p>It’s important to understand which use case you are targeting and build your application according to the correct patterns for that use case. 
The OAuth 2.0 APIs each have several different <a href="#authentication-request">query params</a> which dictate which type of flow you are using and the mechanics of that flow.</p>

<p>At the very basic level, the main API endpoints are:</p>

<ul>
  <li><a href="#authentication-request">Authorize</a> endpoint initiates an OAuth 2.0 or OpenID Connect request.</li>
  <li><a href="#token-request">Token</a> endpoint redeems an authorization grant (returned by the <a href="#authentication-request">Authorize</a> endpoint) for an access token.</li>
</ul>

<h2 id="basic-flows">Basic Flows</h2>

<ol>
  <li>
    <p>Browser/Single-Page Application</p>

    <ul>
      <li>Optimized for browser-only <a href="https://tools.ietf.org/html/rfc6749#section-2.1">Public Clients</a></li>
      <li>Uses <a href="https://tools.ietf.org/html/rfc6749#section-4.2">Implicit Flow</a></li>
      <li>Access token returned directly from authorization request (Front-channel only)</li>
      <li>Does not support refresh tokens</li>
      <li>Assumes Resource Owner and Public Client are on the same device</li>
    </ul>

    <p><img src="/assets/img/browser_spa_implicit_flow.png" alt="Broswer/Single-Page Application" /></p>
  </li>
  <li>
    <p>Native Application</p>

    <ul>
      <li>Installed on a device or computer, such as mobile applications or installed desktop applications</li>
      <li>Uses <a href="https://tools.ietf.org/html/rfc6749#section-4.1">Authorization Code Grant Flow</a></li>
      <li>Can use custom redirect URIs like <code class="highlighter-rouge">myApp://oauth:2.0:native</code></li>
    </ul>

    <p><img src="/assets/img/native_auth_flow.png" alt="Native Application Flow" /></p>

    <blockquote>
      <p>Note: For native applications, the client_id and client_secret are embedded in the source code of the application; in this context, the client secret isn’t treated as a secret. 
     Therefore native apps should make use of Proof Key for Code Exchange (PKCE) to mitigate authorization code interception.
     For more information, see the PKCE note in <a href="#parameter-details">Parameter Details</a>.</p>
    </blockquote>
  </li>
  <li>
    <p>Web Application</p>

    <ul>
      <li>Server-side app with an end-user</li>
      <li>Uses <a href="https://tools.ietf.org/html/rfc6749#section-4.1">Authorization Code Grant Flow</a></li>
      <li>Assumes Resource Owner and Client are on separate devices</li>
      <li>Most secure flow as tokens never pass through user-agent</li>
    </ul>

    <p><img src="/assets/img/web_app_flow.png" alt="Web Application Flow" /></p>
  </li>
  <li>
    <p>Service Application</p>

    <ul>
      <li>Server-side app with no end-user, such as an on-prem agent</li>
      <li>Uses <a href="https://tools.ietf.org/html/rfc6749#section-4.4">Client Credentials Flow</a></li>
      <li>Optimized for <a href="https://tools.ietf.org/html/rfc6749#section-2.1">Confidential Clients</a> acting on behalf of itself or a user</li>
      <li>Back-channel only flow to obtain an access token using the Client’s credentials</li>
    </ul>

    <p><img src="/assets/img/service_app_flow.png" alt="Service Application Flow" />.</p>

    <blockquote>
      <p>Note: The OAuth 2.0 specification mandates that clients implement CSRF protection for their redirection URI endpoints. 
 This is what the <code class="highlighter-rouge">state</code> parameter is used for in the flows described above; the client should send a state value in on the authorization request, 
 and it must validate that returned “state” parameter from the authorization server matches the original value.</p>
    </blockquote>
  </li>
</ol>

<h2 id="custom-user-experience">Custom User Experience</h2>

<p>By default, the Authorization Endpoint displays the Okta login page and authenticates users if they don’t have an existing session. 
If you prefer to use a fully customized user experience, you can instead authenticate the user via the <a href="http://developer.okta.com/docs/api/resources/authn.html">Authentication API</a>. 
This authentication method produces a <code class="highlighter-rouge">sessionToken</code> which can be passed into the Authorize Endpoint, and the user won’t see an Okta login page.</p>

<h2 id="access-token">Access Token</h2>

<p>An Access Token is a <a href="https://tools.ietf.org/html/rfc7519">JSON web token (JWT)</a> encoded in base64URL format that contains <a href="#jwt-header">a header</a>, <a href="#jwt-payload">payload</a>, and <a href="#jwt-signature">signature</a>. A resource server can authorize the client to access particular resources based on the <a href="#scopes-and-claims">scopes and claims</a> in the Access Token.</p>

<div class="beta">
<p>The lifetime of Access Token can be configured in the <a href="#access-policies">Access Policies</a>.</p>
</div>

<h3 id="jwt-header">JWT Header</h3>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45js03w0djwedsw"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="jwt-payload">JWT Payload</h3>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"ver"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jti"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AT.0mP4JKAZX1iACIT4vbEDF7LpvDVjxypPMf0D7uX39RE"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"iss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-org.okta.com/oauth2/0oacqf8qaJw56czJi0g4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"aud"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.you-company.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00ujmkLgagxeRrAg20g3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"iat"</span><span class="p">:</span><span class="w"> </span><span class="mi">1467145094</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1467148694</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nmdP1fcyvdVO11AL7ECm"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00ujmkLgagxeRrAg20g3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scp"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"openid"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"flights"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"custom"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"flight_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AX102"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"custom_claim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CustomValue"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="jwt-signature">JWT Signature</h3>

<p>This is a digital signature Okta generates using the public key identified by the <code class="highlighter-rouge">kid</code> property in the header section.</p>

<h2 id="scopes-and-claims">Scopes and claims</h2>

<p>Access Tokens include reserved scopes and claims.</p>

<div class="beta">
<p>Access Tokens can optionally include custom scopes and claims.</p>

<p>Scopes are requested in the request parameter, and the authorization server uses the <a href="#access-policies">Access Policies</a> to decide if they can be granted or not. If any of the requested scopes are rejected by the <a href="#access-policies">Access Policies</a>, the request will be rejected.</p>

<p>Based on the granted scopes, claims are added into the Access Token returned from the request.</p>

</div>

<h3 id="reserved-scopes-and-claims">Reserved scopes and claims</h3>

<p>The Okta Authorization Server defines a number of reserved scopes and claims which can’t be overridden.</p>

<ul>
  <li><a href="#reserved-scopes">Reserved scopes</a></li>
  <li><a href="#reserved-claims-in-the-header-section">Reserved claims in the header section</a></li>
  <li><a href="#reserved-claims-in-the-payload-section">Reserved claims in the payload section</a></li>
</ul>

<h4 id="reserved-scopes">Reserved scopes</h4>

<p>Reserved scopes include ‘openid’, ‘profile’, ‘email’, ‘address’, ‘phone’, ‘offline_access’, all defined in OpenID Connect.</p>

<h4 id="reserved-claims-in-the-header-section">Reserved claims in the header section</h4>

<p>The header only includes the following reserved claims:</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>DataType</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>alg</td>
      <td>Identifies the digital signature algorithm used. This is always be RS256.</td>
      <td>String</td>
      <td>“RS256”</td>
    </tr>
    <tr>
      <td>kid</td>
      <td>Identifies the <code class="highlighter-rouge">public-key</code> used to sign the <code class="highlighter-rouge">access_token</code>. The corresponding <code class="highlighter-rouge">public-key</code> can be found as a part of the <a href="#authorization-server-metadata">metadata</a> <code class="highlighter-rouge">jwks_uri</code> value.</td>
      <td>String</td>
      <td>“a5dfwef1a-0ead3f5223_w1e”</td>
    </tr>
  </tbody>
</table>

<h4 id="reserved-claims-in-the-payload-section">Reserved claims in the payload section</h4>

<p>The payload includes the following reserved claims:</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>DataType</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ver</td>
      <td>The semantic version of the Access Token.</td>
      <td>Integer</td>
      <td>1</td>
    </tr>
    <tr>
      <td>jti</td>
      <td>A unique identifier for this Access Token for debugging and revocation purposes.</td>
      <td>String</td>
      <td>“AT.0mP4JKAZX1iACIT4vbEDF7LpvDVjxypPMf0D7uX39RE”</td>
    </tr>
    <tr>
      <td>iss</td>
      <td>The Issuer Identifier of the response. This value will be the unique identifier for the Authorization Server instance.</td>
      <td>String</td>
      <td>“https://your-org.okta.com/oauth2/0oacqf8qaJw56czJi0g4”</td>
    </tr>
    <tr>
      <td>aud</td>
      <td>Identifies the audience(resource URI) that this Access Token is intended for.</td>
      <td>String</td>
      <td>“http://api.example.com/api”</td>
    </tr>
    <tr>
      <td>sub</td>
      <td>The subject. A name for the user or a unique identifier for the client.</td>
      <td>String</td>
      <td>“john.doe@example.com”</td>
    </tr>
    <tr>
      <td>iat</td>
      <td>The time the Access Token was issued, represented in Unix time (seconds).</td>
      <td>Integer</td>
      <td>1311280970</td>
    </tr>
    <tr>
      <td>exp</td>
      <td>The time the Access Token expires, represented in Unix time (seconds).</td>
      <td>Integer</td>
      <td>1311280970</td>
    </tr>
    <tr>
      <td>cid</td>
      <td>Client ID of your application that requests the Access Token.</td>
      <td>String</td>
      <td>“6joRGIzNCaJfdCPzRjlh”</td>
    </tr>
    <tr>
      <td>uid</td>
      <td>A unique identifier for the user. It will not be included in the Access Token if there is no user bound to it.</td>
      <td>String</td>
      <td>“00uk1u7AsAk6dZL3z0g3”</td>
    </tr>
    <tr>
      <td>scp</td>
      <td>Array of scopes that are granted to this Access Token.</td>
      <td>Array</td>
      <td>[ “openid”, “custom” ]</td>
    </tr>
  </tbody>
</table>

<div class="beta">
<h3 id="custom-scopes-and-claims">Custom scopes and claims</h3>

<p>The admin can configure custom scopes and claims for the Authorization Server.</p>

<h4 id="custom-scopes">Custom scopes</h4>

<p>If the request that generates the access token contains any custom scopes, those scopes will be part of the <em>scp</em> claim together with the scopes provided from the <a href="http://openid.net/specs/openid-connect-core-1_0.html">OIDC specification</a>. The form of these custom scopes must conform to the <a href="https://tools.ietf.org/html/rfc6749#section-3.3">OAuth2 specification</a>.</p>

<blockquote>
  <p><em>Note:</em> Scope names can contain the characters &lt; (less than) or &gt; (greater than), but not both characters.</p>
</blockquote>

<h4 id="custom-claims">Custom claims</h4>

<p>Custom claims are associated with scopes. If one of the associated scopes is granted to the access token, the custom claim will be added into it. The value of a custom claim can be either an <a href="/reference/okta_expression_language">expression</a> or group filter. The expression will be evaluated at runtime, and if the evaluated result is null, that custom claim will not be added into the access token.</p>

<blockquote>
  <p><em>Note:</em> For the custom claim with group filter, its value has a limit of 100. If more than 100 groups match the filter, then the request fails. Expect that this limit may change in the future.</p>
</blockquote>

</div>

<h2 id="validating-access-tokens">Validating Access Tokens</h2>

<p>Okta uses public key cryptography to sign tokens and verify that they are valid.</p>

<p>The resource server must validate the Access Token before allowing the client to access protected resources.</p>

<p>Access Tokens are sensitive and can be misused if intercepted. Transmit them only over HTTPS and only via POST data or within request headers. If you store them on your application, you must store them securely.</p>

<p>An Access Token must be validated in the following manner:</p>

<ol>
  <li>Verify that the <code class="highlighter-rouge">iss</code> (issuer) claim matches the identifier of your authorization server.</li>
  <li>Verify that the <code class="highlighter-rouge">aud</code> (audience) claim is the requested URL.</li>
  <li>Verify <code class="highlighter-rouge">cid</code> (client id) claim is your client id.</li>
  <li>Verify the signature according to <a href="https://tools.ietf.org/html/rfc7515">JWS</a> using the algorithm specified in the JWT <code class="highlighter-rouge">alg</code> header parameter. Use the public keys provided by Okta via the <a href="#get-keys">Get Keys endpoint</a>.</li>
  <li>Verify that the expiry time (from the <code class="highlighter-rouge">exp</code> claim) has not already passed.</li>
</ol>

<p>Step 4 uses the same signature verification method as <a href="oidc.html#validating-id-tokens">OIDC</a>.</p>

<p>The signing keys for the Access Token are rotated in the same way as <a href="oidc.html#validating-id-tokens">OIDC</a>.</p>

<h3 id="alternative-validation">Alternative Validation</h3>

<p>You can use an <a href="#introspection-request">introspection endpoint</a> for validation.</p>

<h2 id="refresh-token">Refresh Token</h2>

<p>A Refresh Token is an opaque string. It is a long-lived token that the client can use to obtain a new Access Token without re-obtaining authorization from the resource owner. The new Access Token must have the same or subset of the scopes associated with the Refresh Token.
A Refresh Token will be returned if ‘offline_access’ scope is requested using authorization_code, password, or refresh_token grant type.</p>

<div class="beta">
<p>The lifetime of a Refresh Token is configured in <a href="#access-policies">Access Policies</a>, the minimum value is 24 hours. The refresh token can also expire after a period if no clients redeem it for an Access Token. The period should be equal to or larger than 10 minutes. If the token’s lifetime is set to unlimited, the Authorization Server will not check if clients use it or not.</p>

<h2 id="id-token">Id Token</h2>
<p>An authorization server can also issue an Id Token to the client, just like <a href="oidc#id-token">OIDC</a>. The differences are 1) ‘groups’ is not a reserved scope or claim. To get a claim with group information, the administrators have to define a custom claim with a group filter and associate it with a scope. 2) the custom properties in the app user profile will not be put in the Id Token by default even if profile scope is granted. To get a claim for a custom property, the administrators have to define a custom claim with an Okta EL expression and associate it with a scope.</p>

<p>The lifetime of an Id Token is 1 hour.</p>

<p>The same validation steps for <a href="oidc.html#validating-id-tokens">OIDC</a> can also be applied to Id Token for OAuth2, except the public keys should be retrieved via the <a href="#get-keys">Get Keys endpoint</a>.</p>

<h2 id="access-policies">Access Policies</h2>

<p>Access policies define which scopes and claims can be granted to a request and the lifetime of the granted tokens.</p>

<h3 id="policies">Policies</h3>

<p>The admin defines Policies for the OAuth 2.0 clients which are ordered numerically by priority. This priority determines the order in which they are searched for a client match. The highest priority policy has a priorityOrder of 1.</p>

<p>For example, assume the following conditions are in effect.</p>

<ul>
  <li>Policy A has priority 1 and applies to client C;</li>
  <li>Policy B has priority 2 and applies to all the clients;</li>
</ul>

<p>Because Policy A has a higher priority, the requests coming from client C are evaluted by Policy A first. Policy B will not be evaluated if one of Rules in policy A matches the requests.</p>

<h3 id="rules">Rules</h3>

<p>In a policy the administrators can define several rules with people conditions. The people condition identifies users and groups that are included or exclueded to match the user the token is requested for. Rules are ordered numerically by priority. This priority determines the order in which they are searched for a user/group match. The highest priority rule has a priorityOrder of 1.</p>

<p>For example, assume the following conditions are in effect:</p>

<ul>
  <li>Rule A has priority 1 and one people condition to include user U;</li>
  <li>Rule B has priority 2 and one people condition to include all the users assigned to the client;</li>
</ul>

<p>Because Rule A has a higher priority, the requests for user U are evaluated in Rule A, and Rule B is not evaluated.</p>

<p>The requests with client_credential grant type match “no user” condition, which excludes everyone, because there is no user session for the request.</p>

<p>The actions in a Rule define which scopes can be granted to the requests, thus determines which claims will be added into the tokens. They also define the lifetime of the Access Token and Refresh Token.</p>

</div>

<h2 id="endpoints">Endpoints</h2>

<h3 class="api api-operation" id="authentication-request">Authentication Request</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> /oauth2/v1/authorize</span> <span class="api-label api-label-ea "><i class="fa fa-flag"></i> Early Access</span></p>

<div class="beta">
<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> /oauth2/:authorizationServerId/v1/authorize</span> <span class="api-label api-label-beta "><i class="fa fa-warning"></i> Beta</span></p>
</div>

<p>This is a starting point for OAuth 2.0 flows such as implicit and authorization code flows. This request authenticates the user and returns tokens along with an authorization grant to the client application as a part of the response the client might have requested.</p>

<h4 class="api api-request api-request-params" id="request-parameters">Request Parameters</h4>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Param Type</th>
      <th>DataType</th>
      <th>Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="idps.html">idp</a></td>
      <td>The Identity provider used to do the authentication. If omitted, use Okta as the identity provider.</td>
      <td>Query</td>
      <td>String</td>
      <td>FALSE</td>
      <td>Okta is the IDP.</td>
    </tr>
    <tr>
      <td>sessionToken</td>
      <td>An Okta one-time sessionToken. This allows an API-based user login flow (rather than Okta login UI). Session tokens can be obtained via the <a href="authn.html">Authentication API</a>.</td>
      <td>Query</td>
      <td>String</td>
      <td>FALSE</td>
      <td> </td>
    </tr>
    <tr>
      <td>response_type</td>
      <td>Can be a combination of <em>code</em>, <em>token</em>, and <em>id_token</em>. The chosen combination determines which flow is used; see this reference from the <a href="http://openid.net/specs/openid-connect-core-1_0.html#Authentication">OIDC specification</a>. The code response type returns an authorization code which can be later exchanged for an Access Token or a Refresh Token.</td>
      <td>Query</td>
      <td>String</td>
      <td>TRUE</td>
      <td> </td>
    </tr>
    <tr>
      <td>client_id</td>
      <td>Obtained during either <a href="../../guides/social_authentication.html">UI client registration</a> or <a href="oauth-clients.html">API client registration</a>. It is the identifier for the client and it must match what is preregistered in Okta.</td>
      <td>Query</td>
      <td>String</td>
      <td>TRUE</td>
      <td> </td>
    </tr>
    <tr>
      <td>redirect_uri</td>
      <td>Specifies the callback location where the authorization code should be sent and it must match what is preregistered in Okta as a part of client registration.</td>
      <td>Query</td>
      <td>String</td>
      <td>TRUE</td>
      <td> </td>
    </tr>
    <tr>
      <td>display</td>
      <td>Specifies how to display the authentication and consent UI. Valid values: <em>page</em> or <em>popup</em>.</td>
      <td>Query</td>
      <td>String</td>
      <td>FALSE</td>
      <td> </td>
    </tr>
    <tr>
      <td>max_age</td>
      <td>Specifies the allowable elapsed time, in seconds, since the last time the end user was actively authenticated by Okta.</td>
      <td>Query</td>
      <td>String</td>
      <td>FALSE</td>
      <td> </td>
    </tr>
    <tr>
      <td>response_mode</td>
      <td>Specifies how the authorization response should be returned. <a href="#parameter-details">Valid values: <em>fragment</em>, <em>form_post</em>, <em>query</em> or <em>okta_post_message</em></a>. If <em>id_token</em> or <em>token</em> is specified as the response type, then <em>query</em> isn’t allowed as a response mode. Defaults to <em>fragment</em> in implicit and hybrid flow. Defaults to <em>query</em> in authorization code flow and cannot be set as <em>okta_post_message</em>.</td>
      <td>Query</td>
      <td>String</td>
      <td>FALSE</td>
      <td>See Description.</td>
    </tr>
    <tr>
      <td>scope</td>
      <td><strong>Required.</strong> Can be a combination of reserved scopes and custom scopes. The combination determines the claims that are returned in the access_token and id_token. The openid scope has to be specified to get back an id_token.</td>
      <td>Query</td>
      <td>String</td>
      <td>TRUE</td>
      <td> </td>
    </tr>
    <tr>
      <td>state</td>
      <td>A client application provided state string that might be useful to the application upon receipt of the response. It can contain alphanumeric, comma, period, underscore and hyphen characters.</td>
      <td>Query</td>
      <td>String</td>
      <td>TRUE</td>
      <td> </td>
    </tr>
    <tr>
      <td>prompt</td>
      <td>Can be either <em>none</em> or <em>login</em>. The value determines if Okta should not prompt for authentication (if needed), or force a prompt (even if the user had an existing session). Default: The default behavior is based on whether there’s an existing Okta session.</td>
      <td>Query</td>
      <td>String</td>
      <td>FALSE</td>
      <td>See Description.</td>
    </tr>
    <tr>
      <td>nonce</td>
      <td>Specifies a nonce that is reflected back in the ID Token. It is used to mitigate replay attacks.</td>
      <td>Query</td>
      <td>String</td>
      <td>TRUE</td>
      <td> </td>
    </tr>
    <tr>
      <td>code_challenge</td>
      <td>Specifies a challenge of <a href="#parameter-details">PKCE</a>. The challenge is verified in the Access Token request.</td>
      <td>Query</td>
      <td>String</td>
      <td>FALSE</td>
      <td> </td>
    </tr>
    <tr>
      <td>code_challenge_method</td>
      <td>Specifies the method that was used to derive the code challenge. Only S256 is supported.</td>
      <td>Query</td>
      <td>String</td>
      <td>FALSE</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h4 id="parameter-details">Parameter Details</h4>

<ul>
  <li><em>idp</em> and <em>sessionToken</em> are Okta extensions to the <a href="http://openid.net/specs/openid-connect-core-1_0.html#Authentication">OIDC specification</a>. 
 All other parameters comply with the <a href="https://tools.ietf.org/html/rfc6749">OAuth 2.0 specification</a> and their behavior is consistent with the specification.</li>
  <li>Each value for <em>response_mode</em> delivers different behavior:
    <ul>
      <li><em>fragment</em> – Parameters are encoded in the URL fragment added to the <em>redirect_uri</em> when redirecting back to the client.</li>
      <li><em>query</em> – Parameters are encoded in the query string added to the <em>redirect_uri</em> when redirecting back to the client.</li>
      <li><em>form_post</em> – Parameters are encoded as HTML form values that are auto-submitted in the User Agent.Thus, the values are transmitted via the HTTP POST method to the client
and the result parameters are encoded in the body using the application/x-www-form-urlencoded format.</li>
      <li><em>okta_post_message</em> – Uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage">HTML5 Web Messaging</a> (for example, window.postMessage()) instead of the redirect for the authorization response from the authorization endpoint.
<em>okta_post_message</em> is an adaptation of the <a href="https://tools.ietf.org/html/draft-sakimura-oauth-wmrm-00#section-4.1">Web Message Response Mode</a>. 
This value provides a secure way for a single-page application to perform a sign-in flow 
in a popup window or an iFrame and receive the ID token and/or access token back in the parent page without leaving the context of that page.
The data model for the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage">postMessage</a> call is in the next section.</li>
    </ul>
  </li>
  <li>
    <p>Okta requires the OAuth 2.0 <em>state</em> parameter on all requests to the authorization endpoint in order to prevent cross-site request forgery (CSRF). 
 The OAuth 2.0 specification <a href="https://tools.ietf.org/html/rfc6749#section-10.12">requires</a> that clients protect their redirect URIs against CSRF by sending a value in the authorize request which binds the request to the user-agent’s authenticated state. 
 Using the <em>state</em> parameter is also a countermeasure to several other known attacks as outlined in <a href="https://tools.ietf.org/html/rfc6819">OAuth 2.0 Threat Model and Security Considerations</a>.</p>
  </li>
  <li><a href="https://tools.ietf.org/html/rfc7636">Proof Key for Code Exchange</a> (PKCE) is a stronger mechanism for binding the authorization code to the client than just a client secret, and prevents <a href="https://tools.ietf.org/html/rfc7636#section-1">a code interception attack</a> if both the code and the client credentials are intercepted (which can happen on mobile/native devices). The PKCE-enabled client creates a large random string as code_verifier and derives code_challenge from it using code_challenge_method. It passes the code_challenge and code_challenge_method in the authorization request for code flow. When a client tries to redeem the code, it must pass the code_verifer. Okta recomputes the challenge and returns the requested token only if it matches the code_challenge in the original authorization request. When a client, whose token_endpoint_auth_method is ‘none’, makes a code flow authorization request, the code_challenge parameter is required.</li>
</ul>

<h4 id="postmessage-data-model">postMessage() Data Model</h4>

<p>Use the postMessage() data model to help you when working with the <em>okta_post_message</em> value of the <em>response_mode</em> request parameter.</p>

<p><em>message</em>:</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>DataType</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id_token</td>
      <td>The ID Token JWT contains the details of the authentication event and the claims corresponding to the requested scopes. This is returned if the <code class="highlighter-rouge">response_type</code> includes <code class="highlighter-rouge">id_token</code>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>access_token</td>
      <td>The <em>access_token</em> used to access the <a href="/docs/api/resources/oidc.html#get-user-information"><code class="highlighter-rouge">/oauth2/v1/userinfo</code></a> endpoint. This is returned if the <em>response_type</em> included a token. <b>Important</b>: Unlike the ID Token JWT, the <em>access_token</em> structure is specific to Okta, and is subject to change.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>state</td>
      <td>If the request contained a <code class="highlighter-rouge">state</code> parameter, then the same unmodified value is returned back in the response.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>error</td>
      <td>The error-code string providing information if anything goes wrong.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>error_description</td>
      <td>Additional description of the error.</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

<p><em>targetOrigin</em>:</p>

<p>Specifies what the origin of <em>parentWindow</em> must be in order for the postMessage() event to be dispatched
(this is enforced by the browser). The <em>okta-post-message</em> response mode always uses the origin from the <em>redirect_uri</em> 
specified by the client. This is crucial to prevent the sensitive token data from being exposed to a malicious site.</p>

<h4 id="response-parameters">Response Parameters</h4>

<p>The response depends on the response type passed to the API. For example, a <em>fragment</em> response mode returns values in the fragment portion of a redirect to the specified <em>redirect_uri</em> while a <em>form_post</em> response mode POSTs the return values to the redirect URI. 
Irrespective of the response type, the contents of the response is always one of the following.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>DataType</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id_token</td>
      <td>The ID Token JWT contains the details of the authentication event and the claims corresponding to the requested scopes. This is returned if the <em>response_type</em> includes <em>id_token</em>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>access_token</td>
      <td>The <em>access_token</em> that is used to access the <a href="/docs/api/resources/oidc.html#get-user-information"><code class="highlighter-rouge">/oauth2/v1/userinfo</code></a> endpoint. This is returned if the <em>response_type</em> included a token. Unlike the ID Token JWT, the <em>access_token</em> structure is specific to Okta, and is subject to change.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>token_type</td>
      <td>The token type is always <code class="highlighter-rouge">Bearer</code> and is returned only when <em>token</em> is specified as a <em>response_type</em>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>code</td>
      <td>An opaque value that can be used to redeem tokens from <a href="#token-request">token endpoint</a>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>expires_in</td>
      <td>The number of seconds until the <em>access_token</em> expires. This is only returned if the response included an <em>access_token</em>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>scope</td>
      <td>The scopes of the <em>access_token</em>. This is only returned if the response included an <em>access_token</em>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>state</td>
      <td>The same unmodified value from the request is returned back in the response.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>error</td>
      <td>The error-code string providing information if anything went wrong.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>error_description</td>
      <td>Further description of the error.</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

<h5 id="possible-errors">Possible Errors</h5>

<p>These APIs are compliant with the OpenID Connect and OAuth 2.0 spec with some Okta specific extensions.</p>

<p><a href="https://tools.ietf.org/html/rfc6749#section-4.1.2.1">OAuth 2.0 Spec error codes</a></p>

<table>
  <thead>
    <tr>
      <th>Error Id</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>unsupported_response_type</td>
      <td>The specified response type is invalid or unsupported.</td>
    </tr>
    <tr>
      <td>unsupported_response_mode</td>
      <td>The specified response mode is invalid or unsupported. This error is also thrown for disallowed response modes. For example, if the query response mode is specified for a response type that includes id_token.</td>
    </tr>
    <tr>
      <td>invalid_scope</td>
      <td>The scopes list contains an invalid or unsupported value.</td>
    </tr>
    <tr>
      <td>server_error</td>
      <td>The server encountered an internal error.</td>
    </tr>
    <tr>
      <td>temporarily_unavailable</td>
      <td>The server is temporarily unavailable, but should be able to process the request at a later time.</td>
    </tr>
    <tr>
      <td>invalid_request</td>
      <td>The request is missing a necessary parameter or the parameter has an invalid value.</td>
    </tr>
    <tr>
      <td>invalid_grant</td>
      <td>The specified grant is invalid, expired, revoked, or does not match the redirect URI used in the authorization request.</td>
    </tr>
    <tr>
      <td>invalid_token</td>
      <td>The provided access token is invalid.</td>
    </tr>
    <tr>
      <td>invalid_client</td>
      <td>The specified client id is invalid.</td>
    </tr>
    <tr>
      <td>access_denied</td>
      <td>The server denied the request.</td>
    </tr>
  </tbody>
</table>

<p><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">Open-ID Spec error codes</a></p>

<table>
  <thead>
    <tr>
      <th>Error Id</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>login_required</td>
      <td>The request specified that no prompt should be shown but the user is currently not authenticated.</td>
    </tr>
    <tr>
      <td>insufficient_scope</td>
      <td>The access token provided does not contain the necessary scopes to access the resource.</td>
    </tr>
  </tbody>
</table>

<h4 id="response-example-success">Response Example (Success)</h4>

<p>The request is made with a <em>fragment</em> response mode.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>http://www.example.com/#
id_token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIwMHVpZDRCeFh3Nkk2VFY0bTBnMyIsImVtYWlsIjoid2VibWFzdGVyQGNsb3VkaXR1ZG
UubmV0IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInZlciI6MSwiaXNzIjoiaHR0cDovL3JhaW4ub2t0YTEuY29tOjE4MDIiLCJsb2dpbiI6ImFkbWluaXN
0cmF0b3IxQGNsb3VkaXR1ZGUubmV0IiwiYXVkIjoidUFhdW5vZldrYURKeHVrQ0ZlQngiLCJpYXQiOjE0NDk2MjQwMjYsImV4cCI6MTQ0OTYyNzYyNiwi
YW1yIjpbInB3ZCJdLCJqdGkiOiI0ZUFXSk9DTUIzU1g4WGV3RGZWUiIsImF1dGhfdGltZSI6MTQ0OTYyNDAyNiwiYXRfaGFzaCI6ImNwcUtmZFFBNWVIO
DkxRmY1b0pyX1EifQ.Btw6bUbZhRa89DsBb8KmL9rfhku--_mbNC2pgC8yu8obJnwO12nFBepui9KzbpJhGM91PqJwi_AylE6rp-ehamfnUAO4JL14Pke
mF45Pn3u_6KKwxJnxcWxLvMuuisnvIs7NScKpOAab6ayZU0VL8W6XAijQmnYTtMWQfSuaaR8rYOaWHrffh3OypvDdrQuYacbkT0csxdrayXfBG3UF5-ZA
lhfch1fhFT3yZFdWwzkSDc0BGygfiFyNhCezfyT454wbciSZgrA9ROeHkfPCaX7KCFO8GgQEkGRoQntFBNjluFhNLJIUkEFovEDlfuB4tv_M8BM75celd
y3jkpOurg
&amp;access_token=eyJhbGciOiJSUzI1NiJ9.eyJ2ZXIiOjEsImlzcyI6Imh0dHA6Ly9yYWluLm9rdGExLmNvbToxODAyIiwiaWF0
IjoxNDQ5NjI0MDI2LCJleHAiOjE0NDk2Mjc2MjYsImp0aSI6IlVmU0lURzZCVVNfdHA3N21BTjJxIiwic2NvcGVzIjpbIm9wZW5pZCIsImVtYWlsIl0sI
mNsaWVudF9pZCI6InVBYXVub2ZXa2FESnh1a0NGZUJ4IiwidXNlcl9pZCI6IjAwdWlkNEJ4WHc2STZUVjRtMGczIn0.HaBu5oQxdVCIvea88HPgr2O5ev
qZlCT4UXH4UKhJnZ5px-ArNRqwhxXWhHJisslswjPpMkx1IgrudQIjzGYbtLFjrrg2ueiU5-YfmKuJuD6O2yPWGTsV7X6i7ABT6P-t8PRz_RNbk-U1GXW
IEkNnEWbPqYDAm_Ofh7iW0Y8WDA5ez1jbtMvd-oXMvJLctRiACrTMLJQ2e5HkbUFxgXQ_rFPNHJbNSUBDLqdi2rg_ND64DLRlXRY7hupNsvWGo0gF4WEU
k8IZeaLjKw8UoIs-ETEwJlAMcvkhoVVOsN5dPAaEKvbyvPC1hUGXb4uuThlwdD3ECJrtwgKqLqcWonNtiw
&amp;token_type=Bearer&amp;expires_in=3600&amp;scope=openid+email&amp;state=waojafoawjgvbf
</code></pre>
</div>

<h4 id="response-example-error">Response Example (Error)</h4>

<p>The requested scope is invalid:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>http://www.example.com/#error=invalid_scope&amp;error_description=The+requested+scope+is+invalid%2C+unknown%2C+or+malformed
</code></pre>
</div>

<h3 class="api api-operation" id="token-request">Token Request</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST</span> /oauth2/v1/token</span> <span class="api-label api-label-ea "><i class="fa fa-flag"></i> Early Access</span></p>
<div class="beta">
<p><span class="api-uri-template api-uri-post"><span class="api-label">POST</span> /oauth2/:authorizationServerId/v1/token</span> <span class="api-label api-label-beta "><i class="fa fa-warning"></i> Beta</span></p>
</div>

<p>The API takes a grant type of either <em>authorization_code</em>, <em>password</em>, <em>refresh_token</em>, or <em>client_credentials</em> <span class="api-label api-label-beta "><i class="fa fa-warning"></i> Beta</span> and the corresponding credentials and returns back an Access Token. A Refresh Token will be returned if <em>offline_access</em> scope is requested using authorization_code, password, or refresh_token grant type. Additionally, using the authorization_code grant type will return an ID Token if the <em>openid</em> scope is requested.</p>

<blockquote>
  <p>Note:  No errors occur if you use this endpoint, but it isn’t useful until custom scopes or resource servers are available. We recommend you wait until custom scopes and resource servers are available.</p>
</blockquote>

<h4 id="request-parameters-1">Request Parameters</h4>

<p>The following parameters can be posted as a part of the URL-encoded form values to the API.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>grant_type</td>
      <td>Can be one of the following: <em>authorization_code</em>, <em>password</em>, <em>refresh_token</em>, or <em>client_credentials</em> <span class="api-label api-label-beta "><i class="fa fa-warning"></i> Beta</span>. Determines the mechanism Okta will use to authorize the creation of the tokens.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>code</td>
      <td>Expected if grant_type specified <em>authorization_code</em>. The value is what was returned from the <a href="#authentication-request">authorization endpoint</a>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>refresh_token</td>
      <td>Expected if the grant_type specified <em>refresh_token</em>. The value is what was returned from this endpoint via a previous invocation.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>username</td>
      <td>Expected if the grant_type specified <em>password</em>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>password</td>
      <td>Expected if the grant_type specified <em>password</em>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>scope</td>
      <td>Optional if <em>refresh_token</em>, or <em>password</em> is specified as the grant type. This is a list of scopes that the client wants to be included in the Access Token. For the <em>refresh_token</em> grant type, these scopes have to be subset of the scopes used to generate the Refresh Token in the first place.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>redirect_uri</td>
      <td>Expected if grant_type is <em>authorization_code</em>. Specifies the callback location where the authorization was sent; must match what is preregistered in Okta for this client.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>code_verifier</td>
      <td>The code verifier of <a href="#parameter-details">PKCE</a>. Okta uses it to recompute the code_challenge and verify if it matches the original code_challenge in the authorization request.</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>The <a href="https://tools.ietf.org/html/rfc6749#section-4.4">Client Credentials</a> flow (if <code class="highlighter-rouge">grant_types</code> is <code class="highlighter-rouge">client_credentials</code>) is currently <strong>Beta</strong>.</p>
</blockquote>

<h5 id="token-authentication-method">Token Authentication Method</h5>

<p>The client can authenticate by providing the <a href="oidc.html#request-parameters"><code class="highlighter-rouge">client_id</code></a> 
and <a href="https://support.okta.com/help/articles/Knowledge_Article/Using-OpenID-Connect"><code class="highlighter-rouge">client_secret</code></a> as an Authorization header in the Basic auth scheme (basic authentication).</p>

<p>For authentication with Basic auth, an HTTP header with the following format must be provided with the POST request.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>Authorization: Basic <span class="k">${</span><span class="nv">Base64</span><span class="p">(&lt;client_id&gt;</span>:<span class="p">&lt;client_secret&gt;)</span><span class="k">}</span> 
</code></pre>
</div>

<h4 id="response-parameters-1">Response Parameters</h4>

<p>Based on the grant type, the returned JSON can contain a different set of tokens.</p>

<table>
  <thead>
    <tr>
      <th>Input grant type</th>
      <th>Output token types</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>authorization_code</td>
      <td>Access Token, Refresh Token, ID Token</td>
    </tr>
    <tr>
      <td>refresh_token</td>
      <td>Access Token, Refresh Token</td>
    </tr>
    <tr>
      <td>password</td>
      <td>Access Token, Refresh Token</td>
    </tr>
    <tr>
      <td>client_credentials</td>
      <td>Access Token</td>
    </tr>
  </tbody>
</table>

<h5 id="refresh-tokens-for-web-and-native-applications">Refresh Tokens for Web and Native Applications</h5>

<p>For web and native application types, an additional process is required:</p>

<ol>
  <li>Use the Okta Administration UI and check the <b>Refresh Token</b> checkbox under <b>Allowed Grant Types</b> on the client application page.</li>
  <li>Pass the <em>offline_access</em> scope to your authorize request.</li>
</ol>

<h4 id="list-of-errors">List of Errors</h4>

<table>
  <thead>
    <tr>
      <th>Error Id</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>invalid_client</td>
      <td>The specified client id wasn’t found.</td>
    </tr>
    <tr>
      <td>invalid_request</td>
      <td>The request structure was invalid. E.g. the basic authentication header was malformed, or both header and form parameters were used for authentication or no authentication information was provided.</td>
    </tr>
    <tr>
      <td>invalid_grant</td>
      <td>The <em>code</em> or <em>refresh_token</em> value was invalid, or the <em>redirect_uri</em> does not match the one used in the authorization request.</td>
    </tr>
    <tr>
      <td>unsupported_grant_type</td>
      <td>The grant_type was not <em>authorization_code</em> or <em>refresh_token</em>.</td>
    </tr>
    <tr>
      <td>invalid_scope</td>
      <td>The scopes list contains an invalid or unsupported value.</td>
    </tr>
  </tbody>
</table>

<h4 id="response-example-success-1">Response Example (Success)</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"access_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSUzI1NiJ9.eyJ2ZXIiOjEsImlzcyI6Imh0dHA6Ly9yYWluLm9rdGExLmNvbToxODAyIiwiaWF0IjoxNDQ5Nj
                      I0MDI2LCJleHAiOjE0NDk2Mjc2MjYsImp0aSI6IlVmU0lURzZCVVNfdHA3N21BTjJxIiwic2NvcGVzIjpbIm9wZW5pZCIsI
                      mVtYWlsIl0sImNsaWVudF9pZCI6InVBYXVub2ZXa2FESnh1a0NGZUJ4IiwidXNlcl9pZCI6IjAwdWlkNEJ4WHc2STZUVjRt
                      MGczIn0.HaBu5oQxdVCIvea88HPgr2O5evqZlCT4UXH4UKhJnZ5px-ArNRqwhxXWhHJisslswjPpMkx1IgrudQIjzGYbtLF
                      jrrg2ueiU5-YfmKuJuD6O2yPWGTsV7X6i7ABT6P-t8PRz_RNbk-U1GXWIEkNnEWbPqYDAm_Ofh7iW0Y8WDA5ez1jbtMvd-o
                      XMvJLctRiACrTMLJQ2e5HkbUFxgXQ_rFPNHJbNSUBDLqdi2rg_ND64DLRlXRY7hupNsvWGo0gF4WEUk8IZeaLjKw8UoIs-E
                      TEwJlAMcvkhoVVOsN5dPAaEKvbyvPC1hUGXb4uuThlwdD3ECJrtwgKqLqcWonNtiw"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_in"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scope"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid email"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refresh_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a9VpZDRCeFh3Nkk2VdY"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIwMHVpZDRCeFh3Nkk2VFY0bTBnMyIsImVtYWlsIjoid2VibWFzdGVyQGNsb3VkaXR1ZG
                  UubmV0IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInZlciI6MSwiaXNzIjoiaHR0cDovL3JhaW4ub2t0YTEuY29tOjE4MDIiLCJsb
                  2dpbiI6ImFkbWluaXN0cmF0b3IxQGNsb3VkaXR1ZGUubmV0IiwiYXVkIjoidUFhdW5vZldrYURKeHVrQ0ZlQngiLCJpYXQiOjE0
                  NDk2MjQwMjYsImV4cCI6MTQ0OTYyNzYyNiwiYW1yIjpbInB3ZCJdLCJqdGkiOiI0ZUFXSk9DTUIzU1g4WGV3RGZWUiIsImF1dGh
                  fdGltZSI6MTQ0OTYyNDAyNiwiYXRfaGFzaCI6ImNwcUtmZFFBNWVIODkxRmY1b0pyX1EifQ.Btw6bUbZhRa89DsBb8KmL9rfhku
                  --_mbNC2pgC8yu8obJnwO12nFBepui9KzbpJhGM91PqJwi_AylE6rp-ehamfnUAO4JL14PkemF45Pn3u_6KKwxJnxcWxLvMuuis
                  nvIs7NScKpOAab6ayZU0VL8W6XAijQmnYTtMWQfSuaaR8rYOaWHrffh3OypvDdrQuYacbkT0csxdrayXfBG3UF5-ZAlhfch1fhF
                  T3yZFdWwzkSDc0BGygfiFyNhCezfyT454wbciSZgrA9ROeHkfPCaX7KCFO8GgQEkGRoQntFBNjluFhNLJIUkEFovEDlfuB4tv_M
                  8BM75celdy3jkpOurg"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="response-example-error-1">Response Example (Error)</h4>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">401</span> <span class="ne">Unauthorized</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="s">{</span>
<span class="s">    "error" : "invalid_client",</span>
<span class="s">    "error_description" : "No client credentials found."</span>
<span class="s">}</span>
</code></pre>
</div>

<h3 class="api api-operation" id="introspection-request">Introspection Request</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST</span> /oauth2/v1/introspect</span> <span class="api-label api-label-ea "><i class="fa fa-flag"></i> Early Access</span></p>
<div class="beta">
<p><span class="api-uri-template api-uri-post"><span class="api-label">POST</span> /oauth2/:authorizationServerId/v1/introspect</span> <span class="api-label api-label-beta "><i class="fa fa-warning"></i> Beta</span></p>
</div>

<p>The API takes an Access Token or Refresh Token, and returns a boolean indicating whether it is active or not. 
If the token is active, additional data about the token is also returned. If the token is invalid, expired, or revoked, it is considered inactive. 
An implicit client can only introspect its own tokens, while a confidential client may inspect all access tokens.</p>

<blockquote>
  <p>Note; <a href="oidc.html#id-token">ID Tokens</a> are also valid, however, they are usually validated on the service provider or app side of a flow.</p>
</blockquote>

<h4 id="request-parameters-2">Request Parameters</h4>

<p>The following parameters can be posted as a part of the URL-encoded form values to the API.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>token</td>
      <td>An access token or refresh token.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>token_type_hint</td>
      <td>A hint of the type of <em>token</em>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>client_id</td>
      <td>The client ID generated as a part of client registration. This is used in conjunction with the <em>client_secret</em> parameter to authenticate the client application.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>client_secret</td>
      <td>The client secret generated as a part of client registration. This is used in conjunction with the <em>client_id</em> parameter to authenticate the client application.</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

<h5 id="token-authentication-methods">Token Authentication Methods</h5>

<p>The client can authenticate by providing <em>client_id</em> and <em>client_secret</em> as a part of the URL-encoded form parameters (as described in table above),
or it can use basic authentication by providing the <em>client_id</em> and <em>client_secret</em> as an Authorization header using the Basic auth scheme.
Use one authentication mechanism with a given request. Using both returns an error.</p>

<p>For authentication with Basic auth, an HTTP header with the following format must be provided with the POST request.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>Authorization: Basic <span class="k">${</span><span class="nv">Base64</span><span class="p">(&lt;client_id&gt;</span>:<span class="p">&lt;client_secret&gt;)</span><span class="k">}</span> 
</code></pre>
</div>

<h4 id="response-parameters-2">Response Parameters</h4>

<p>Based on the type of token and whether it is active or not, the returned JSON contains a different set of information. Besides the claims in the token, the possible top-level members include:</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>active</td>
      <td>An access token or refresh token.</td>
      <td>boolean</td>
    </tr>
    <tr>
      <td>token_type</td>
      <td>The type of the token. The value is always <code class="highlighter-rouge">Bearer</code>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>scope</td>
      <td>A space-delimited list of scopes.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>client_id</td>
      <td>The ID of the client associated with the token.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>username</td>
      <td>The username associated with the token.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>exp</td>
      <td>The expiration time of the token in seconds since January 1, 1970 UTC.</td>
      <td>long</td>
    </tr>
    <tr>
      <td>iat</td>
      <td>The issuing time of the token in seconds since January 1, 1970 UTC.</td>
      <td>long</td>
    </tr>
    <tr>
      <td>nbf</td>
      <td>A timestamp in seconds since January 1, 1970 UTC when this token is not be used before.</td>
      <td>long</td>
    </tr>
    <tr>
      <td>sub</td>
      <td>The subject of the token.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>aud</td>
      <td>The audience of the token.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>iss</td>
      <td>The issuer of the token.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>jti</td>
      <td>The identifier of the token.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>device_id</td>
      <td>The ID of the device associated with the token</td>
      <td>String</td>
    </tr>
    <tr>
      <td>uid</td>
      <td>The user ID. This parameter is returned only if the token is an access token and the subject is an end user.</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

<h4 id="list-of-errors-1">List of Errors</h4>

<table>
  <thead>
    <tr>
      <th>Error Id</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>invalid_client</td>
      <td>The specified client id wasn’t found.</td>
    </tr>
    <tr>
      <td>invalid_request</td>
      <td>The request structure was invalid. E.g. the basic authentication header was malformed, or both header and form parameters were used for authentication or no authentication information was provided.</td>
    </tr>
  </tbody>
</table>

<h4 id="response-example-success-access-token">Response Example (Success, Access Token)</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid profile"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a9VpZDRCeFh3Nkk2VdYa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1451606400</span><span class="p">,</span><span class="w">
    </span><span class="nt">"iat"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1451602800</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sub"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"aud"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"iss"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-org.okta.com/oauth2/orsmsg0aWLdnF3spV0g3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jti"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AT.7P4KlczBYVcWLkxduEuKeZfeiNYkZIC9uGJ28Cc-YaI"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"uid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"00uid4BxXw6I6TV4m0g3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="response-example-success-refresh-token">Response Example (Success, Refresh Token)</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid profile email"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a9VpZDRCeFh3Nkk2VdYa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1451606400</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sub"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"device_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"q4SZgrA9sOeHkfst5uaa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="response-example-success-inactive-token">Response Example (Success, Inactive Token)</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="response-example-error-2">Response Example (Error)</h4>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">401</span> <span class="ne">Unauthorized</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="s">{</span>
<span class="s">    "error" : "invalid_client",</span>
<span class="s">    "error_description" : "No client credentials found."</span>
<span class="s">}</span>
</code></pre>
</div>

<h3 class="api api-operation" id="revocation-request">Revocation Request</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST</span> /oauth2/v1/revoke</span> <span class="api-label api-label-ea "><i class="fa fa-flag"></i> Early Access</span></p>
<div class="beta">
<p><span class="api-uri-template api-uri-post"><span class="api-label">POST</span> /oauth2/:authorizationServerId/v1/revoke</span> <span class="api-label api-label-beta "><i class="fa fa-warning"></i> Beta</span></p>
</div>

<p>The API takes an Access Token or Refresh Token and revokes it. Revoked tokens are considered inactive at the introspection endpoint. A client may only revoke its own tokens.</p>

<blockquote>
  <p>Note: No errors occur if you use this endpoint, but it isn’t useful until custom scopes or resource servers are available. We recommend you wait until custom scopes and resource servers are available.</p>
</blockquote>

<h4 id="request-parameters-3">Request Parameters</h4>

<p>The following parameters can be posted as a part of the URL-encoded form values to the API.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>token</td>
      <td>An access token or refresh token.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>token_type_hint</td>
      <td>A hint of the type of <em>token</em>.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>client_id</td>
      <td>The client ID generated as a part of client registration. This is used in conjunction with the <em>client_secret</em> parameter to authenticate the client application.</td>
      <td>String</td>
    </tr>
    <tr>
      <td>client_secret</td>
      <td>The client secret generated as a part of client registration. This is used in conjunction with the <em>client_id</em> parameter to authenticate the client application.</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

<h5 id="token-authentication-methods-1">Token Authentication Methods</h5>

<p>A client may only revoke a token generated for that client.</p>

<p>The client can authenticate by providing <em>client_id</em> and <em>client_secret</em> as a part of the URL-encoded form parameters (as described in table above),
or it can use basic authentication by providing the <em>client_id</em> and <em>client_secret</em> as an Authorization header using the Basic auth scheme.
Use one authentication mechanism with a given request. Using both returns an error.</p>

<p>For authentication with Basic auth, an HTTP header with the following format must be provided with the POST request.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>Authorization: Basic <span class="k">${</span><span class="nv">Base64</span><span class="p">(&lt;client_id&gt;</span>:<span class="p">&lt;client_secret&gt;)</span><span class="k">}</span> 
</code></pre>
</div>

<h4 id="response-parameters-3">Response Parameters</h4>

<p>A successful revocation is denoted by an empty response with an HTTP 200. Note that revoking an invalid, expired, or revoked token will still be considered a success as to not leak information</p>

<h4 id="list-of-errors-2">List of Errors</h4>

<table>
  <thead>
    <tr>
      <th>Error Id</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>invalid_client</td>
      <td>The specified client id wasn’t found.</td>
    </tr>
    <tr>
      <td>invalid_request</td>
      <td>The request structure was invalid. E.g. the basic authentication header was malformed, or both header and form parameters were used for authentication or no authentication information was provided.</td>
    </tr>
  </tbody>
</table>

<h4 id="response-example-success-2">Response Example (Success)</h4>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>
</div>

<h4 id="response-example-error-3">Response Example (Error)</h4>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">401</span> <span class="ne">Unauthorized</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="s">{</span>
<span class="s">    "error" : "invalid_client",</span>
<span class="s">    "error_description" : "No client credentials found."</span>
<span class="s">}</span>
</code></pre>
</div>

<div class="beta">
<h3 class="api api-operation" id="get-keys">Get Keys</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> /oauth2/:authorizationServerId/v1/keys</span> <span class="api-label api-label-beta "><i class="fa fa-warning"></i> Beta</span></p>

<h4 class="api api-response api-response-example" id="response-example">Response Example</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iKqiD4cr7FZKm6f05K4r-GQOvjRqjOeFmOho9V7SAXYwCyJluaGBLVvDWO1XlduPLOrsG_Wgs67SOG5qeLPR8T1zDK4bfJAo1Tvbw
            YeTwVSfd_0mzRq8WaVc_2JtEK7J-4Z0MdVm_dJmcMHVfDziCRohSZthN__WM2NwGnbewWnla0wpEsU3QMZ05_OxvbBdQZaDUsNSx4
            6is29eCdYwhkAfFd_cFRq3DixLEYUsRwmOqwABwwDjBTNvgZOomrtD8BRFWSTlwsbrNZtJMYU33wuLO9ynFkZnY6qRKVHr3YToIrq
            NBXw0RWCheTouQ-snfAB6wcE2WDN3N5z760ejqQ"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U5R8cHbGw445Qbq8zVO1PcCpXL8yG6IcovVa3laCoxM"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"l1hZ_g2sgBE3oHvu34T-5XP18FYJWgtul_nRNg-5xra5ySkaXEOJUDRERUG0HrR42uqf9jYrUTwg9fp-SqqNIdHRaN8EwRSDRsKAwK
            3HIJ2NJfgmrrO2ABkeyUq6rzHxAumiKv1iLFpSawSIiTEBJERtUCDcjbbqyHVFuivIFgH8L37-XDIDb0XG-R8DOoOHLJPTpsgH-rJe
            M5w96VIRZInsGC5OGWkFdtgk6OkbvVd7_TXcxLCpWeg1vlbmX-0TmG5yjSj7ek05txcpxIqYu-7FIGT0KKvXge_BOSEUlJpBhLKU28
            OtsOnmc3NLIGXB-GeDiUZiBYQdPR-myB4ZoQ"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y3vBOdYT-l-I0j-gRQ26XjutSX00TeWiSguuDhW3ngo"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lC4ehVB6W0OCtNPnz8udYH9Ao83B6EKnHA5eTcMOap_lQZ-nKtS1lZwBj4wXRVc1XmS0d2OQFA1VMQ-dHLDE3CiGfsGqWbaiZFdW7U
            GLO1nAwfDdH6xp3xwpKOMewDXbAHJlXdYYAe2ap-CE9c5WLTUBU6JROuWcorHCNJisj1aExyiY5t3JQQVGpBz2oUIHo7NRzQoKimvp
            dMvMzcYnTlk1dhlG11b1GTkBclprm1BmOP7Ltjd7aEumOJWS67nKcAZzl48Zyg5KtV11V9F9dkGt25qHauqFKL7w3wu-DYhT0hmyFc
            wn-tXS6e6HQbfHhR_MQxysLtDGOk2ViWv8AQ"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"h5Sr3LXcpQiQlAUVPdhrdLFoIvkhRTAVs_h39bQnxlU"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<blockquote>
  <p>Okta strongly recommends retrieving keys dynamically with the JWKS published in the discovery document.
It is safe to cache or persist downloaded keys for performance.</p>
</blockquote>

<p>Any of the keys listed are used to sign tokens. The order of keys in the result doesn’t indicate which keys are used.</p>

<p>Standard open-source libraries are available for every major language to perform <a href="https://tools.ietf.org/html/rfc7515">JWS</a> signature validation.</p>

<h3 class="api api-operation" id="authorization-server-metadata">Authorization Server Metadata</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> /oauth2/:authorizationServerId/.well-known/oauth-authorization-server</span> <span class="api-label api-label-beta "><i class="fa fa-warning"></i> Beta</span></p>

<p>This API endpoint returns metadata related to an Authorization Server that can be used by clients to programmatically configure their interactions with Okta.
This API doesn’t require any authentication and returns a JSON object with the following structure.</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/authorize"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/token"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jwks_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/keys"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"response_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code token"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"response_modes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"query"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fragment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"form_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"okta_post_message"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"grant_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"authorization_code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"implicit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"refresh_token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"password"</span><span class="w">
        </span><span class="s2">"client_credentials"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"subject_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"public"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"scopes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"offline_access"</span><span class="p">,</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"token_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"claims_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="s2">"ver"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"jti"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"iss"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"aud"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"iat"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"exp"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"cid"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"uid"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"scp"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"sub"</span><span class="w">
  </span><span class="p">],</span><span class="w">
    </span><span class="nt">"code_challenge_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"S256"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"introspection_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/introspect"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"introspection_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"revocation_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/revoke"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"revocation_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 class="api api-operation" id="authorization-server-openid-connect-metadata">Authorization Server OpenID Connect Metadata</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> /oauth2/:authorizationServerId/.well-known/openid-configuration</span> <span class="api-label api-label-beta "><i class="fa fa-warning"></i> Beta</span></p>

<p>This API endpoint returns OpenID Connect metadata related to an Authorization Server that can be used by clients to programmatically configure their interactions with Okta.
This API doesn’t require any authentication and returns a JSON object with the following structure.</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/authorize"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/token"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userinfo_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/userinfo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jwks_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/keys"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"response_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code id_token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_token token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code id_token token"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"response_modes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"query"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fragment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"form_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"okta_post_message"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"grant_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"authorization_code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"implicit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"refresh_token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"password"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"subject_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"public"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"id_token_signing_alg_values_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"RS256"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"scopes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"openid"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"offline_access"</span><span class="p">,</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"token_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">],</span><span class="w">
   </span><span class="nt">"claims_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"iss"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ver"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"aud"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"iat"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"exp"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"jti"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"auth_time"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amr"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"idp"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nonce"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nickname"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preferred_username"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"given_name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"middle_name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"family_name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_verified"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"zoneinfo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locale"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone_number"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"picture"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gender"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"birthdate"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"at_hash"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"c_hash"</span><span class="w">
  </span><span class="p">],</span><span class="w">
    </span><span class="nt">"code_challenge_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"S256"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"introspection_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/introspect"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"introspection_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"revocation_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://${org}.okta.com/oauth2/{authorizationServerId}/v1/revoke"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"revocation_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>
</div>

      </div>
      <div class="TableOfContents TableOfContentsPreload">
          <div class="TableOfContents-item is-level1">
              <script>
                  document.write(document.title.split('|')[0].trim());
              </script>
          </div>
          <div class="TableOfContentsLoader"></div>
      </div>
      <!-- END Page Content -->
    </section>
    <!-- END Page Center w/Sub Nav & Content -->

	  <!-- START Footer -->
	  
        <footer class="footer">
            <div class="Wrap">

                <ul>
                    <li><a href="http://www.okta.com" target="_blank">Okta.com</a></li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a></li>
                    <li><a href="/terms/">Terms &amp; Conditions</a></li>
                    <li><a href="/3rd_party_notices/">3rd Party Notices</a></li>
                    <li><a href="/privacy/">Privacy Policy</a></li>
                    <li><a href="http://okta.com/developer/contact/">Contact Sales</a></li>
                    <li><a href="mailto:developers@okta.com">Contact Support</a></li>
                </ul>

                <ul>
                    <li><a class="icon" href="http://github.com/oktadeveloper" target="_blank"><i class="fa fa-github"></i></a></li>
                    <li><a class="icon" href="http://twitter.com/okta" target="_blank"><i class="fa fa-twitter"></i></a></li>
                    <li><a class="icon" href="http://stackoverflow.com/search?q=okta" target="_blank"><i class="fa fa-stack-overflow"></i></a></li>
                    <li><a class="icon" href="http://feeds.feedburner.com/OktaBlog" target="_blank"><i class="fa fa-rss"></i></a></li>
                    <!-- <li><a class="icon" href="http://community.okta.com" target="_blank"><i class="fa fa-comments"></i></a></li> -->
                </ul>

            </div>
        </footer>

    <script src="https://code.jquery.com/jquery-3.1.0.min.js"
    integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="
    crossorigin="anonymous"></script>

    
    

    
    <script type="text/javascript" defer="defer" src="/assets/js/docs.js"></script>

    <script src="/assets/js/master.js"></script>

    <!-- Remarketing tag -->
    <script type="text/javascript">
        /* <![CDATA[ */
        var google_conversion_id = 1006913831;
        var google_custom_params = window.google_tag_params;
        var google_remarketing_only = true;
        /* ]]> */
    </script>
    <div style="display:none;">
        <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
    </script>
    </div>
    <noscript>
        <div style="display:inline;">
            <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0"/>
        </div>
    </noscript>
    <!-- End Remarketing tag -->

    <!-- Crazy Egg Tracking -->
    <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
    </script>
    <!-- End Crazy Egg Tracking -->

	  <!-- END Footer -->
	</div>
</body>
</html>
