<!doctype html>
<!--[if lt IE 7 ]> <html class="ie6 no-flexbox"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7 no-flexbox"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8 no-flexbox"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9 no-flexbox"> <![endif]-->
<!--[if IE 10 ]>    <html class="ie10 no-flexbox"> <![endif]-->
<!--[if (gt IE 10)|!(IE)]><!--> <html class="modern wf-loading" lang="en"> <!--<![endif]-->
  <head><head>
  <script>
    var isProduction = window.location.hostname === 'developer.okta.com';
    if (isProduction) {
      // TypeKit
      (function(d) {
        var config = {
          kitId: 'jff5neq',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);

      // Google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-15777010-3', 'auto');
      ga('send', 'pageview');

      // START Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TJ45R6');
      // END Google Tag Manager
    }
	</script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 	
  <link type="text/css" rel="stylesheet" href="/assets/animate-ec43d72c3ed45e08a460b8a2966d8dba6006aebfa0530935c3973fa493a8771f.css">
  <link type="text/css" rel="stylesheet" href="/assets/okta-c9d8d47e5d0b2c3f60c41beea5371ccb83174ddc23c0f090acf1ae9a6735cb31.css">
  
  
    <link type="text/css" rel="stylesheet" href="/assets/page-blog-367850afad8093d512ce46256493ec36aa919ccb2ed99af419063c06816ac5d8.css">
  
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
  <title>Build a Microservices Architecture for Microbrews with Spring Boot | Okta Developer</title>
  <meta name="description" content="Adopting a microservice architecture provides unique opportunities to add failover and resiliency to your systems, so your components can handle load spikes ...">
  <link rel="canonical" href="https://developer.okta.com/blog/2017/06/15/build-microservices-architecture-spring-boot">
  <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="https://developer.okta.com/feed.xml"><!-- GA -->
</head>

    <body id="blog">
	
<header id="header">
      <div class="Wrap">
        <h1 class="logo"><a href="/">Okta</a></h1><!-- START Primary Nav -->
        <nav>
          <div id="top-nav">
            <a href="#" id="mobile-close" class="mobile-toggle">
              <span></span>
              <span></span>
            </a>
            <a class="Button--green" href="https://developer.okta.com/signup/" id="top-nav-cta">Get Started</a>
            <a class="SearchIcon" href="#"></a>
            <ul>
              <li>
                <a href="/product/">Product</a>
              </li>
              <li>
                <a href="/documentation/">Documentation</a>
              </li>
              <li>
                <a href="/code/">Code</a>
              </li>
              <li class="has-dropdown">
                <a href="#">Support</a>
                <div class="dropdown-window">
                  <p class="devforum">Post your question on <a href="https://devforum.okta.com/" title="Okta Developer Forums" target="_blank">Okta Developer Forums</a></p>
                  <p class="email">Email us:<br>
                  <a href="mailto:developers@okta.com">developers@okta.com</a></p>
                  <p class="tel">Call us:<br>
                  <a href="tel:18887227871">1 (888) 722-7871</a></p>
                </div>
              </li>
            </ul>
            <form id="form_search" method="get" action="/search/" name="form_search">
              <input type="text" name="q" id="q" autocomplete="off">
            </form>
          </div>
          <div id="mobile-nav">
            <a id="mobile-search" href="/search/"><span class="icon-search-light"></span></a>
            <a id="mobile-open" class="mobile-toggle" href="#top-nav">
              <span></span>
              <span></span>
              <span></span>
            </a>
          </div>
        </nav><!-- END Primary Nav -->
      </div>
    </header>

	<div class="page-content">
		<section id="blog-post" class="main-container">
	<div class="wrap blog">
		<section >
  <div class="wrap">
    <article class="post-block">
      <header class="post-title-block">
        <h1><a href="/blog/2017/06/15/build-microservices-architecture-spring-boot">Build a Microservices Architecture for Microbrews with Spring Boot</a></h1>
        <div class="attribution">
          
            
            
              <img src="/assets/avatar-matt_raible-9974af6192eb1753b7137c8fff0a2c6e6bb9736a2517986cb5cc50bb040e83d4.jpg" alt="avatar-matt_raible.jpg" class="author-avatar">
            
            <address>Matt Raible</address>&nbsp;
            
              <a class="social_link" href="https://github.com/mraible"><i class="fa fa-github-square"></i></a>
            
            
              <a class="social_link" href="https://twitter.com/mraible"><i class="fa fa-twitter-square"></i></a>
            
            
            
              <a class="social_link" href="http://raibledesigns.com"><i class="fa fa-external-link-square"></i></a>
            
            <span class="sepr">&middot;</span>
          
          <time datetime="2017-06-15">June 15, 2017</time>
	      </div>
	    </header>
	    <section class="post-content">
	     <p>Adopting a microservice architecture provides unique opportunities to add failover and resiliency to your systems, so 
your components can handle load spikes and errors gracefully. Microservices make change less expensive too. It can also 
be a good idea when you have a large team working on a single product. Your project can likely be broken up into components 
that can function independently of one another. Once components can function independently, they can be built, tested, 
and deployed independently. This gives an organization and its teams the agility to develop and deploy very quickly.</p>

<p>In a <a href="/blog/2017/04/26/bootiful-development-with-spring-boot-and-angular">previous article</a>, I showed you how to build 
a Spring Boot API with an Angular client. I then showed you how to 
<a href="/blog/2017/05/09/progressive-web-applications-with-angular-and-spring-boot">convert the Angular app into a progressive web application that works offline</a>. 
The Angular PWA is a good example of a resilient application because it still works when connectivity fails. Did you know 
you can develop similar resiliency in your API with Spring Boot, Spring Cloud, and a microservices architecture? This 
article shows you how to convert the previously created Spring Boot application to use microservices. You’ll create a 
beer catalog service, an edge service (for filter and displaying good beers), and a Eureka service that registers the 
services and allows them to communicate with one another.</p>

<p>Before we dive into the code tutorial, I’d like to talk a bit about microservices, their history, and why you should 
(or should not) consider a microservices architecture for your next project.</p>

<h2 id="history-of-microservices">History of Microservices</h2>

<p>According to <a href="https://en.wikipedia.org/wiki/Microservices#History">Wikipedia</a>, the term “microservice” was first used as 
a common architecture style at a workshop of software architects near Venice in May 2011. In May 2012, the same group 
decided “microservices” was a more appropriate name.</p>

<p><a href="https://www.linkedin.com/in/adriancockcroft">Adrian Cockcroft</a>, who was at Netflix at the time, described this architecture 
as “fine-grained SOA”. Martin Fowler and James Lewis wrote an article titled simply 
<a href="http://martinfowler.com/articles/microservices.html">Microservices</a> on March 25, 2014. Years later, this is still 
considered the definitive article for microservices.</p>

<h3 id="organizations-and-conways-law">Organizations and Conway’s Law</h3>

<p>Technology has traditionally been organized into technology layers: UI team, database team, operations team. When teams 
are separated along these lines, even simple changes can lead to a cross-team project sucking down huge chunks of time 
and budget.</p>

<p>A smart team will optimize around this and choose the lesser of two evils; forcing the logic into whichever application 
they have access to. This is an example of <a href="http://www.melconway.com/Home/Committees_Paper.html">Conway’s Law</a> in action.</p>

<p><img src="/assets/blog/microservices-spring-boot/conways-law-56c3557dd259e3eca55e0d0fc700df235fbaacf9af9dc53dc00af78dd625d951.png" alt="Conway's Law" width="560" /></p>

<blockquote>
  <p>Any organization that designs a system (defined broadly) will produce a design whose structure is a copy of the 
organization’s communication structure.</p>

  <p>— Melvyn Conway, 1967</p>
</blockquote>

<h3 id="microservices-architecture-philosophy">Microservices Architecture Philosophy</h3>

<p>The philosophy of a microservices architecture is essentially equal to the Unix philosophy of “Do one thing and do it well”. 
The characteristics of a microservices architecture are as follows:</p>

<ul>
  <li>Componentization via services</li>
  <li>Organized around business capabilities</li>
  <li>Products not projects</li>
  <li>Smart endpoints and dumb pipes</li>
  <li>Decentralized governance</li>
  <li>Decentralized data management</li>
  <li>Infrastructure automation</li>
  <li>Design for failure</li>
  <li>Evolutionary design</li>
</ul>

<h2 id="why-microservices">Why Microservices?</h2>

<p>For most developers, dev teams, and organizations, it’s easier to work on small “do one thing well” services. No single 
program represents the whole application, so services can change frameworks (or even languages) without a massive cost. 
As long as the services use a language agnostic protocol (HTTP or lightweight messaging), applications can be written 
in several different platforms - Java, Ruby, Node, Go, .NET, etc. - without issue.</p>

<p>Platform-as-a-Service (PaaS) providers and containers have made it easy to deploy microservices. All the technologies 
needed to support a monolith (e.g. load balancing, discovery, process monitoring) are provided by the PaaS, outside of 
your container. Deployment effort comes close to zero.</p>

<h3 id="are-microservices-the-future">Are Microservices the Future?</h3>

<p>Architecture decisions, like adopting microservices, are usually only evident several years after you make them. 
Microservices have been successful at companies like LinkedIn, Twitter, Facebook, Amazon, and Netflix. But that doesn’t 
mean they’ll be successful for your organization. Component boundaries are hard to define. If you’re not able to create 
your components cleanly, you’re just shifting complexity from inside a component to the connections between the components. 
Also, team capabilities are something to consider. A weak team will always create a weak system.</p>

<blockquote>
  <p>You shouldn’t start with a microservices architecture. Instead, begin with a monolith, keep it modular, and split it 
into microservices once the monolith becomes a problem.</p>

  <p>— Martin Fowler</p>
</blockquote>

<h2 id="build-a-microservices-architecture-with-spring-boot-spring-cloud-and-netflix-eureka">Build a Microservices Architecture with Spring Boot, Spring Cloud, and Netflix Eureka</h2>

<p>Netflix Eureka is a REST-based service that is primarily used in the AWS cloud for locating services for the purpose of 
load balancing and failover of middle-tier servers.</p>

<p><a href="http://projects.spring.io/spring-cloud/">Spring Cloud</a> is a developer’s dream when it comes to implementing and 
deploying a microservices architecture.</p>

<blockquote>
  <p>Spring Cloud provides tools for developers to quickly build some of the common patterns in distributed systems 
(e.g. configuration management, service discovery, circuit breakers, intelligent routing, micro-proxy, etc.). 
Coordination of distributed systems leads to boilerplate patterns. Using Spring Cloud, developers can quickly stand up 
services and applications that implement those patterns. They will work well in any distributed environment, including 
the developer’s own laptop, bare metal data centers, and managed platforms such as Cloud Foundry.</p>
</blockquote>

<p><a href="https://cloud.spring.io/spring-cloud-netflix/">Spring Cloud Netflix</a> provides Netflix OSS integrations for Spring Boot 
applications. Patterns provided include Service Discovery (Eureka), Circuit Breaker (Hystrix), Intelligent Routing (Zuul) 
and Client Side Load Balancing (Ribbon).</p>

<p>To learn more about service discovery and resolution with Eureka, watch Josh Long’s 
<a href="https://spring.io/blog/2015/01/20/microservice-registration-and-discovery-with-spring-cloud-and-netflix-s-eureka">Microservice Registration and Discovery with Spring Cloud and Netflix’s Eureka</a>.</p>

<h3 id="create-a-eureka-service">Create a Eureka Service</h3>

<p>To begin, create a <code class="highlighter-rouge">spring-boot-microservices-example</code> directory. Navigate to <a href="https://start.spring.io">start.spring.io</a>. 
Enter <code class="highlighter-rouge">eureka-service</code> as an artifact name and select <code class="highlighter-rouge">Eureka Server</code> as a dependency.</p>

<p><img src="/assets/blog/microservices-spring-boot/eureka-service-a4a7139d34d39919709bfdbf50bd2d1f173282aa29061c9f3bf06fcd79119e2b.png" alt="Eureka Server" width="800" /></p>

<p>Click the <strong>Generate Project</strong> button and expand <code class="highlighter-rouge">eureka-service.zip</code> into the <code class="highlighter-rouge">spring-boot-microservices-example</code> directory.</p>

<p>Modify <code class="highlighter-rouge">src/main/resources/application.properties</code> to add a port number and disable registration.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>server.port=8761
eureka.client.register-with-eureka=false
</code></pre>
</div>

<p>Open <code class="highlighter-rouge">src/main/java/com/example/EurekaServiceApplication.java</code> and add <code class="highlighter-rouge">@EnableEurekaServer</code> above <code class="highlighter-rouge">@SpringBootApplication</code>.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.springframework.cloud.netflix.eureka.server.EnableEurekaServer</span><span class="o">;</span>

<span class="nd">@EnableEurekaServer</span>
<span class="nd">@SpringBootApplication</span>
</code></pre>
</div>

<p>This annotation, and the aforementioned properties, configures a registry that other applications can talk to.</p>

<p>Start the application from the command line using:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>./mvnw spring-boot:run
</code></pre>
</div>

<p>Or if you’re using Windows:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>mvnw.bat spring-boot:run
</code></pre>
</div>

<p>After it starts, you should be able to open <a href="http://localhost:8761">http://localhost:8761</a> and see there are no services available.</p>

<p><img src="/assets/blog/microservices-spring-boot/eureka-service-ui-4227ed9e91b45dffccc3c4820a31932d68d1d503a8f16e06f412796ac2852615.png" alt="Eureka Server" width="800" /></p>

<h3 id="create-a-beer-catalog-service">Create a Beer Catalog Service</h3>

<p>Refresh <a href="https://start.spring.io">start.spring.io</a> to start creating a new project. Use <code class="highlighter-rouge">beer-catalog-service</code> for the 
artifact name and add the following dependencies:</p>

<ul>
  <li>Actuator: features to help you monitor and manage your application</li>
  <li>Eureka Discovery: for service registration</li>
  <li>JPA: to save/retrieve data</li>
  <li>H2: an in-memory database</li>
  <li>Rest Repositories: to expose JPA repositories as REST endpoints</li>
  <li>Web: Spring MVC and embedded Tomcat</li>
  <li>DevTools: to auto-reload the application when files change</li>
  <li>Lombok: to reduce boilerplate code</li>
</ul>

<p><img src="/assets/blog/microservices-spring-boot/beer-catalog-service-c6d487b9ff257b82a5e8683e4400b0b577653c013a1648b7007db2fc12095e4e.png" alt="Beer Catalog Service" width="800" /></p>

<p>Click the <strong>Generate Project</strong> button and expand <code class="highlighter-rouge">beer-catalog-service.zip</code> into <code class="highlighter-rouge">spring-boot-microservices-example</code> and 
open the project in your favorite IDE. I recommend <a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> because it’s great for 
Java and web development.</p>

<p>Create a <code class="highlighter-rouge">Beer</code> entity, a <code class="highlighter-rouge">JpaRepository</code> for it, and a <code class="highlighter-rouge">CommandLineRunner</code> to populate the database with default data. 
You can add this code to <code class="highlighter-rouge">BeerCatalogServiceApplication.java</code>, or create separate files for each class. The code below 
assumes you’re putting all classes in the same file.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@Data</span>
<span class="nd">@AllArgsConstructor</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@ToString</span>
<span class="nd">@Entity</span>
<span class="kd">class</span> <span class="nc">Beer</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nf">Beer</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span>
    <span class="kd">private</span> <span class="n">Long</span> <span class="n">id</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@RepositoryRestResource</span>
<span class="kd">interface</span> <span class="nc">BeerRepository</span> <span class="kd">extends</span> <span class="n">JpaRepository</span><span class="o">&lt;</span><span class="n">Beer</span><span class="o">,</span> <span class="n">Long</span><span class="o">&gt;</span> <span class="o">{}</span>

<span class="nd">@Component</span>
<span class="kd">class</span> <span class="nc">BeerInitializer</span> <span class="kd">implements</span> <span class="n">CommandLineRunner</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">BeerRepository</span> <span class="n">beerRepository</span><span class="o">;</span>

    <span class="n">BeerInitializer</span><span class="o">(</span><span class="n">BeerRepository</span> <span class="n">beerRepository</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">beerRepository</span> <span class="o">=</span> <span class="n">beerRepository</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"Kentucky Brunch Brand Stout"</span><span class="o">,</span> <span class="s">"Good Morning"</span><span class="o">,</span> <span class="s">"Very Hazy"</span><span class="o">,</span> <span class="s">"King Julius"</span><span class="o">,</span>
                <span class="s">"Budweiser"</span><span class="o">,</span> <span class="s">"Coors Light"</span><span class="o">,</span> <span class="s">"PBR"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">beer</span> <span class="o">-&gt;</span> <span class="n">beerRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="k">new</span> <span class="n">Beer</span><span class="o">(</span><span class="n">beer</span><span class="o">)));</span>

        <span class="n">beerRepository</span><span class="o">.</span><span class="na">findAll</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>If you’re using an editor that doesn’t auto-import classes, here’s the list of imports needed at the top of <code class="highlighter-rouge">BeerCatalogServiceApplication.java</code>.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">lombok.AllArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Data</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.NoArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.ToString</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.CommandLineRunner</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.SpringApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.SpringBootApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.cloud.client.discovery.EnableDiscoveryClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.jpa.repository.JpaRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.rest.core.annotation.RepositoryRestResource</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.persistence.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.GeneratedValue</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.Id</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.stream.Stream</span><span class="o">;</span>
</code></pre>
</div>

<p>Add an application name in <code class="highlighter-rouge">beer-catalog-service/src/main/resources/application.properties</code> to display in the Eureka 
service, and set the port to 8080.</p>

<div class="language-properties highlighter-rouge"><pre class="highlight"><code><span class="py">server.port</span><span class="p">=</span><span class="s">8080</span>
<span class="py">spring.application.name</span><span class="p">=</span><span class="s">beer-catalog-service</span>
</code></pre>
</div>

<p>Start the beer-catalog-service with Maven (<code class="highlighter-rouge">mvn spring-boot:run</code>) or your IDE.</p>

<p>At this point, you should be able to use <a href="https://httpie.org/">HTTPie</a> to see the list of beers from the catalog service.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>http localhost:8080/beers
</code></pre>
</div>

<p><img src="/assets/blog/microservices-spring-boot/httpie-beers-55c9dd1ccc635e94d87126b68e1c6c7d2842922bada596895d6366b372b1af77.png" alt="HTTPie Beers" width="800" /></p>

<p>However, if you open the Eureka Service at <a href="http://localhost:8761">http://localhost:8761</a>, you will not see the service registered. To register 
the beer-catalog-service, you need to add <code class="highlighter-rouge">@EnableDiscoveryClient</code> to <code class="highlighter-rouge">BeerCatalogServiceApplication.java</code>.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.springframework.cloud.client.discovery.EnableDiscoveryClient</span><span class="o">;</span>

<span class="nd">@EnableDiscoveryClient</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BeerCatalogServiceApplication</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">BeerCatalogServiceApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Re-compile this class, watch devtools restart your application, and return to <a href="http://localhost:8761">http://localhost:8761</a>. If you’re not 
using an IDE, it might be easiest to cancel and restart <code class="highlighter-rouge">mvn spring-boot:run</code>. Now the service should show up.</p>

<p><img src="/assets/blog/microservices-spring-boot/eureka-instances-registered-bec9bf9b85ba26b71cc28298fe1965a17bd615e5b78977ee435d36e3d89172a7.png" alt="Eureka instances registered" width="800" /></p>

<p><a name="intellij-auto-compile"></a></p>
<div style="padding: 12px 12px 2px 25px; border: 1px solid silver; border-left: 5px solid #ddd">
<strong>Compile on Save in IntelliJ</strong><br />

<p>By default IntelliJ IDEA does not automatically compile files when the application is running. 
To enable the "Compile on save" feature:</p>

<ul>       
    <li>Go to <strong>Preferences &gt; Build, Execution, Deployment -&gt; Compiler</strong> and enable "Build project automatically"</li>
    <li>Open the Action window:
        <ul>
            <li>Linux: CTRL+SHIFT+A</li>
            <li>Mac: SHIFT+COMMAND+A</li>
            <li>Windows: CTRL+ALT+SHIFT+/</li>
        </ul>
    </li>
    <li>Enter <strong>Registry...</strong> and enable <code>compiler.automake.allow.when.app.running</code></li>
</ul>

</div>

<h3 id="create-an-edge-service">Create an Edge Service</h3>

<p>The edge service will be similar to the standalone beer service created in 
<a href="/blog/2017/04/26/bootiful-development-with-spring-boot-and-angular">Bootiful Development with Spring Boot and Angular</a>. 
However, it will have fallback capabilities which prevent the client from receiving an HTTP error when the service is 
not available.</p>

<p>Navigate to <a href="https://start.spring.io">start.spring.io</a> and create an “edge-service” application with the following dependencies:</p>

<ul>
  <li>Eureka Discovery: for service registration</li>
  <li>Feign: a declarative web service client</li>
  <li>Zuul: provides intelligent routing</li>
  <li>Rest Repositories: to expose JPA repositories as REST endpoints</li>
  <li>Web: Spring MVC and embedded Tomcat</li>
  <li>Hystrix: a circuit breaker to stop cascading failure and enable resilience</li>
  <li>Lombok: to reduce boilerplate code</li>
</ul>

<p><img src="/assets/blog/microservices-spring-boot/edge-service-c7e8714c119427b1c95b0264182bf4b964d8b023b49f5bd008f1e6a3086c79c0.png" alt="Edge Service" width="800" /></p>

<p>Click the <strong>Generate Project</strong> button and expand <code class="highlighter-rouge">edge-service.zip</code> into <code class="highlighter-rouge">spring-boot-microservices-example</code> and open 
the project in your favorite IDE.</p>

<p>Since the <code class="highlighter-rouge">beer-catalog-service</code> is running on port 8080, you’ll need to configure this application to run on a different 
port. Modify <code class="highlighter-rouge">edge-service/src/main/resources/application.properties</code> to set the port to 8081 and set an application name.</p>

<div class="language-properties highlighter-rouge"><pre class="highlight"><code><span class="py">server.port</span><span class="p">=</span><span class="s">8081</span>
<span class="py">spring.application.name</span><span class="p">=</span><span class="s">edge-service</span>
</code></pre>
</div>

<p>To enable Feign, Hystrix, and registration with the Eureka server, add the appropriate annotations to 
<code class="highlighter-rouge">EdgeServiceApplication.java</code>:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.springframework.cloud.client.circuitbreaker.EnableCircuitBreaker</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.cloud.client.discovery.EnableDiscoveryClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.cloud.netflix.feign.EnableFeignClients</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.cloud.netflix.zuul.EnableZuulProxy</span><span class="o">;</span>

<span class="nd">@EnableFeignClients</span>
<span class="nd">@EnableCircuitBreaker</span>
<span class="nd">@EnableDiscoveryClient</span>
<span class="nd">@EnableZuulProxy</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EdgeServiceApplication</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">EdgeServiceApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Create a <code class="highlighter-rouge">Beer</code> DTO (Data Transfer Object) in this same file. Lombok’s 
<a href="https://projectlombok.org/features/Data.html"><code class="highlighter-rouge">@Data</code></a> will generate a <code class="highlighter-rouge">toString()</code> methods, getters, setters, and 
appropriate constructors.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@Data</span>
<span class="kd">class</span> <span class="nc">Beer</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Create a <code class="highlighter-rouge">BeerClient</code> that uses Feign to talk to the <code class="highlighter-rouge">beer-catalog-service</code>.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@FeignClient</span><span class="o">(</span><span class="s">"beer-catalog-service"</span><span class="o">)</span>
<span class="kd">interface</span> <span class="nc">BeerClient</span> <span class="o">{</span>

    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/beers"</span><span class="o">)</span>
    <span class="n">Resources</span><span class="o">&lt;</span><span class="n">Beer</span><span class="o">&gt;</span> <span class="nf">readBeers</span><span class="o">();</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Create a <code class="highlighter-rouge">RestController</code> that filters out less-than-great beers and exposes a <code class="highlighter-rouge">/good-beers</code> endpoint.</p>

<p><strong>NOTE:</strong> To get <code class="highlighter-rouge">beer.getName()</code> to work in your IDE, you may need to install the Lombok plugin. In Intellij, you can 
install it by going to Preferences -&gt; Plugins -&gt; Browse Plugins. Search for “lombok plugin” and click to install it. 
Restart Intellij for the changes to take effect.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@RestController</span>
<span class="kd">class</span> <span class="nc">GoodBeerApiAdapterRestController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">BeerClient</span> <span class="n">beerClient</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">GoodBeerApiAdapterRestController</span><span class="o">(</span><span class="n">BeerClient</span> <span class="n">beerClient</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">beerClient</span> <span class="o">=</span> <span class="n">beerClient</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/good-beers"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">Beer</span><span class="o">&gt;</span> <span class="nf">goodBeers</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">beerClient</span><span class="o">.</span><span class="na">readBeers</span><span class="o">()</span>
                <span class="o">.</span><span class="na">getContent</span><span class="o">()</span>
                <span class="o">.</span><span class="na">stream</span><span class="o">()</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="k">this</span><span class="o">::</span><span class="n">isGreat</span><span class="o">)</span>
                <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isGreat</span><span class="o">(</span><span class="n">Beer</span> <span class="n">beer</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">!</span><span class="n">beer</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"Budweiser"</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
                <span class="o">!</span><span class="n">beer</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"Coors Light"</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
                <span class="o">!</span><span class="n">beer</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"PBR"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Start the <code class="highlighter-rouge">edge-service</code> application with Maven or your IDE and verify it registers successfully with the Eureka server.</p>

<p><img src="/assets/blog/microservices-spring-boot/edge-service-registered-95cc2264a08cfce06dc2e700178c2b54885d59b7f9966c8a6de67ec72a65de56.png" alt="Edge Service Registered" width="800" /></p>

<p>You should be able to invoke the <code class="highlighter-rouge">/good-beers</code> endpoint as well.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>http localhost:8081/good-beers
HTTP/1.1 200
Content-Type: application/json;charset<span class="o">=</span>UTF-8
Date: Tue, 25 Apr 2017 17:37:50 GMT
Transfer-Encoding: chunked
X-Application-Context: edge-service:8081
</code></pre>
</div>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kentucky Brunch Brand Stout"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Good Morning"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Very Hazy"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"King Julius"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<p>This is cool, but if you shut down the <code class="highlighter-rouge">beer-catalog-service</code> application, you’ll get a 500 internal server error.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>http localhost:8081/good-beers
HTTP/1.1 500
Connection: close
Content-Type: application/json;charset<span class="o">=</span>UTF-8
Date: Tue, 25 Apr 2017 17:40:32 GMT
Transfer-Encoding: chunked
X-Application-Context: edge-service:8081
</code></pre>
</div>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Internal Server Error"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exception"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.lang.RuntimeException"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"com.netflix.client.ClientException: Load balancer does not have available server for client: beer-catalog-service"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/good-beers"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1493142032310</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>To fix this, you can use Hystrix to create a fallback method and tell the <code class="highlighter-rouge">goodBeers()</code> method to use it.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">Beer</span><span class="o">&gt;</span> <span class="nf">fallback</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="o">}</span>

<span class="nd">@HystrixCommand</span><span class="o">(</span><span class="n">fallbackMethod</span> <span class="o">=</span> <span class="s">"fallback"</span><span class="o">)</span>
<span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/good-beers"</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">Beer</span><span class="o">&gt;</span> <span class="nf">goodBeers</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="err">…</span> 
<span class="o">}</span>
</code></pre>
</div>

<p>Restart the <code class="highlighter-rouge">edge-service</code> and you should see an empty list returned.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>http localhost:8081/good-beers
HTTP/1.1 200
Content-Type: application/json;charset<span class="o">=</span>UTF-8
Date: Tue, 25 Apr 2017 17:44:18 GMT
Transfer-Encoding: chunked
X-Application-Context: edge-service:8081
</code></pre>
</div>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">[]</span><span class="w">
</span></code></pre>
</div>

<p>Start the <code class="highlighter-rouge">beer-catalog-service</code> again and this list should eventually return the full list of good beer names.</p>

<h3 id="add-an-angular-pwa-client">Add an Angular PWA Client</h3>

<p>You can copy the Angular PWA client I created in a <a href="/blog/2017/05/09/progressive-web-applications-with-angular-and-spring-boot">previous tutorial</a> and install its dependencies.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>git clone git@github.com:oktadeveloper/spring-boot-angular-pwa-example.git
cp -r spring-boot-angular-pwa-example/client ~/spring-boot-microservices-example/.
<span class="nb">cd</span> ~/spring-boot-microservices-example/client
npm install
</code></pre>
</div>

<p>Then modify the <code class="highlighter-rouge">BeerService</code> in <code class="highlighter-rouge">client/src/app/shared/beer/beer.service.ts</code> to <strong>use port 8081</strong> instead of <code class="highlighter-rouge">8080</code>.</p>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code><span class="nx">getAll</span><span class="p">()</span><span class="err">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'http://localhost:8081/good-beers'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="na">response</span><span class="p">:</span> <span class="nx">Response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Modify <code class="highlighter-rouge">GoodBeerApiAdapterRestController</code> in <code class="highlighter-rouge">EdgeServiceApplication.java</code> to allow cross-origin requests from any client.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/good-beers"</span><span class="o">)</span>
<span class="nd">@CrossOrigin</span><span class="o">(</span><span class="n">origins</span> <span class="o">=</span> <span class="s">"*"</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">Beer</span><span class="o">&gt;</span> <span class="nf">goodBeers</span><span class="o">()</span> <span class="o">{</span>
</code></pre>
</div>

<p>Restart the <code class="highlighter-rouge">edge-service</code> and start the Angular client by running <code class="highlighter-rouge">npm start</code> in the client directory.</p>

<p>Open <a href="http://localhost:4200">http://localhost:4200</a> in your browser and verify that network calls to <code class="highlighter-rouge">/good-beers</code> go over port <code class="highlighter-rouge">8081</code>.</p>

<p><img src="/assets/blog/microservices-spring-boot/angular-pwa-800a8d50d995e9d877af0410d8bfb997ed8834ad035278ab6373ea3f10b94c6d.png" alt="Angular PWA Client" width="800" /></p>

<h3 id="deploy-to-cloud-foundry">Deploy to Cloud Foundry</h3>

<p>In order to deploy the <code class="highlighter-rouge">edge-service</code> and <code class="highlighter-rouge">beer-catalog-service</code> to Cloud Foundry, you need to add configuration files 
so they work with Cloud Foundry’s Eureka service.</p>

<p>Create <code class="highlighter-rouge">edge-service/src/main/resources/application-cloud.properties</code> and populate it with the following:</p>

<div class="language-properties highlighter-rouge"><pre class="highlight"><code><span class="py">eureka.instance.hostname</span><span class="p">=</span><span class="s">${vcap.application.uris[0]:localhost}</span>
<span class="py">eureka.instance.nonSecurePort</span><span class="p">=</span><span class="s">80</span>
<span class="py">eureka.instance.metadataMap.instanceId</span><span class="p">=</span><span class="s">${vcap.application.instance_id:${spring.application.name}:${spring.application.instance_id:${server.port}}}</span>
<span class="py">eureka.instance.leaseRenewalIntervalInSeconds</span> <span class="p">=</span> <span class="s">5</span>

<span class="py">eureka.client.region</span> <span class="p">=</span> <span class="s">default</span>
<span class="py">eureka.client.registryFetchIntervalSeconds</span> <span class="p">=</span> <span class="s">5</span>
<span class="py">eureka.client.serviceUrl.defaultZone</span><span class="p">=</span><span class="s">${vcap.services.pwa-eureka-service.credentials.uri}/eureka/</span>
</code></pre>
</div>

<p>Create <code class="highlighter-rouge">beer-catalog-service/src/main/resources/application-cloud.properties</code> and populate it with similar properties.</p>

<div class="language-properties highlighter-rouge"><pre class="highlight"><code><span class="py">eureka.instance.hostname</span><span class="p">=</span><span class="s">${vcap.application.uris[0]:localhost}</span>
<span class="py">eureka.instance.nonSecurePort</span><span class="p">=</span><span class="s">80</span>
<span class="py">eureka.instance.metadataMap.instanceId</span><span class="p">=</span><span class="s">${vcap.application.instance_id:${spring.application.name}:${spring.application.instance_id:${server.port}}}</span>
<span class="py">eureka.instance.leaseRenewalIntervalInSeconds</span> <span class="p">=</span> <span class="s">5</span>

<span class="py">eureka.client.region</span> <span class="p">=</span> <span class="s">default</span>
<span class="py">eureka.client.registryFetchIntervalSeconds</span> <span class="p">=</span> <span class="s">5</span>
<span class="py">eureka.client.serviceUrl.defaultZone</span><span class="p">=</span><span class="s">${vcap.services.pwa-eureka-service.credentials.uri}/eureka/</span>
</code></pre>
</div>

<p>In the properties above, <code class="highlighter-rouge">pwa-eureka-service</code> is the name you’ll give to the Eureka service when you deploy it to 
Cloud Foundry.</p>

<p>To deploy it on Cloud Foundry with <a href="http://run.pivotal.io/">Pivotal Web Services</a>, you’ll need to create an account, 
download/install the <a href="https://github.com/cloudfoundry/cli#downloads">Cloud Foundry CLI</a>, and sign-in 
(using <code class="highlighter-rouge">cf login -a api.run.pivotal.io</code>).</p>

<p>There are quite a few steps involved to deploy all the services and the Angular client for production. For that reason, 
I wrote a <a href="https://github.com/oktadeveloper/spring-boot-microservices-example/blob/master/deploy.sh"><code class="highlighter-rouge">deploy.sh</code></a> script 
that automates everything. Note that it uses a 
<a href="https://github.com/oktadeveloper/spring-boot-microservices-example/blob/master/sw.py"><code class="highlighter-rouge">sw.py</code></a> Python script to change 
the names of Angular’s generated JavaScript files.</p>

<h2 id="when-to-use-microservices">When to Use Microservices</h2>

<p>Building a microservices architecture is something you should consider when you’re having difficulty scaling development 
in a large team. From a development standpoint, moving to microservices will not reduce complexity, but will likely 
increase it you move to a distributed system. Automation and orchestration are key for deployment. You should make sure 
to define your exit criteria (e.g. maximum time for a request to execute) before implementing your microservices 
infrastructure. You’re likely going to have to custom build some things, so be prepared for that. Trial a few different 
platforms and then pick the one that meets your criteria and is the easiest to develop with. Don’t develop half of your 
system on one platform and then try moving to another. Another tip is to make sure and record the request ID in all 
logging events for traceability.</p>

<p>If you have fewer than 20 developers, start with a monolith, but build in async messaging as soon as possible. Use it 
for things like mail, notifications, logging, and archiving. Debugging, deployment, and logging are much easier with a 
monolith because everything is contained in one application.</p>

<p>Also, consider using async messaging or other non-blocking communication methods with automatic back pressure. HTTP is a 
synchronous protocol and can be a limiting factor in high-traffic systems.</p>

<h2 id="learn-more-about-microservice-architectures">Learn More about Microservice Architectures</h2>

<p>Spring Boot isn’t the only framework to implement embedded servlet containers or make it easy to develop microservices. 
In Javaland, there’s <a href="http://www.dropwizard.io/">Dropwizard</a>, <a href="https://microprofile.io/">MicroProfile</a> for Java EE, 
<a href="https://www.lightbend.com/platform/development/lagom-framework">Lagom</a>, <a href="http://vertx.io/">Vert.x</a>, and 
<a href="http://www.tomitribe.com/products/">Tribestream</a>.</p>

<p>You can find the source code for this article’s applications on GitHub at <a href="https://github.com/oktadeveloper/spring-boot-microservices-example">https://github.com/oktadeveloper/spring-boot-microservices-example</a>.</p>

<p>You can also watch a video of me and <a href="https://twitter.com/starbuxman">Josh Long</a> developing these applications in a YouTube recording of our Cloud Native PWAs presentation at Devoxx France, 2017.</p>

<div style="text-align: center">
    <iframe width="560" height="315" style="max-width: 100%" src="https://www.youtube.com/embed/0MBsfdQiS64" frameborder="0" allowfullscreen=""></iframe>
</div>

<p>If you have any questions about this article, you can email me at matt.raible@okta.com, post a question to Stack Overflow 
<a href="http://stackoverflow.com/questions/tagged/okta">with the Okta tag</a>, post to our <a href="https://devforum.okta.com/">Developer Forums</a>, 
or <a href="https://github.com/oktadeveloper/spring-boot-microservices-example/issues/new">create an issue on GitHub</a>.</p>


	    </section>
	  </article>
  </div>
</section>

	</div>
</section>

		
	</div><footer class="footer">
      <div class="Wrap">
        <ul>
          <li>
            <a href="https://www.okta.com" target="_blank">Okta.com</a>
          </li>
          <li>
            <a href="/blog/">Blog</a>
          </li>
          <li>
            <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
          </li>
          <li>
            <a href="/terms/">Terms & Conditions</a>
          </li>
          <li>
            <a href="/3rd_party_notices/">3rd Party Notices</a>
          </li>
          <li>
            <a href="/privacy/">Privacy Policy</a>
          </li>
          <li>
            <a href="/contact/">Contact Sales</a>
          </li>
          <li>
            <a href="mailto:developers@okta.com">Contact Support</a>
          </li>
        </ul>
        <ul>
          <li>
            <a class="icon" href="http://github.com/oktadeveloper" target="_blank"><i class="fa fa-github"></i></a>
          </li>
          <li>
            <a class="icon" href="http://twitter.com/okta" target="_blank"><i class="fa fa-twitter"></i></a>
          </li>
          <li>
            <a class="icon" href="https://devforum.okta.com/" title="Okta Developer Forums" target="_blank"><i class="fa fa-comments"></i></a>
          </li>
          <li>
            <a class="icon" href="http://feeds.feedburner.com/OktaBlog" target="_blank"><i class="fa fa-rss"></i></a>
          </li><!-- <li><a class="icon" href="http://community.okta.com" target="_blank"><i class="fa fa-comments"></i></a></li> -->
        </ul>
      </div>
    </footer>
    <script type="text/javascript" src="/assets/master-d164e3cb90ad42ea74c141546269db0efdbc2259b7d44b7f52babb60097099a8.js"></script>
    
    
    
    

  <!-- START Post Footer -->
  
  <!-- START Google Tag Manager -->
  <!-- https://support.google.com/tagmanager/answer/6103696?hl=en -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- END Google Tag Manager -->
  <!-- START Google Remarketing Tag -->
  <script type="text/javascript">
    /* <![CDATA[ */
    var google_conversion_id = 1006913831;
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
    /* ]]> */
  </script>
  <div style="display:none;"><script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script></div>
  <noscript><div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0"></div></noscript>
  <!-- END Google Remarketing Tag -->
  <!-- START Crazy Egg Tracking -->
  <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script>
  <!-- END Crazy Egg Tracking -->

  <!-- END Post Footer -->
</body>
</html>
