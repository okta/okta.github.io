{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[294],{498:function(t,s,a){\"use strict\";a.r(s);var e={props:[\"slot-key\"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit(\"AsyncMarkdownContentMounted\",this.slotKey)})}},n=a(5),o=Object(n.a)(e,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.slotKey}},[a(\"h1\",{attrs:{id:\"create-an-id-token-or-access-token-containing-a-groups-claim\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#create-an-id-token-or-access-token-containing-a-groups-claim\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Create an ID Token or Access Token Containing a Groups Claim\")]),t._v(\" \"),a(\"p\",[t._v(\"You can add a groups claim for any combination of application groups and user groups into ID tokens to perform SSO using Okta Authorization Server, or ID tokens and access tokens to perform authentication and authorization using Custom Authorization Server (API Access Management required).\\nThis process optionally uses Okta's flexible app profile, which accepts any JSON-compliant content, to create a whitelist of groups\\nthat can then easily be referenced. This is especially useful if you have a large number of groups to whitelist or otherwise\\nneed to set group whitelists on a per-application basis.\")]),t._v(\" \"),a(\"h2\",{attrs:{id:\"create-groups-claims-with-a-dynamic-whitelist\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#create-groups-claims-with-a-dynamic-whitelist\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Create Groups Claims with a Dynamic Whitelist\")]),t._v(\" \"),a(\"p\",[t._v(\"You can use the \"),a(\"router-link\",{attrs:{to:\"/reference/okta_expression_language/#group-functions\"}},[t._v(\"Okta Expression Language Group Functions\")]),t._v(\" to use static and dynamic whitelists.\")],1),t._v(\" \"),a(\"p\",[t._v(\"Three Group functions help you use dynamic group whitelists:  \"),a(\"code\",[t._v(\"contains\")]),t._v(\", \"),a(\"code\",[t._v(\"startsWith\")]),t._v(\", and \"),a(\"code\",[t._v(\"endsWith\")]),t._v(\".\")]),t._v(\" \"),a(\"p\",[t._v(\"These functions return all the groups that match the specified criteria. Use this function to get a list of groups that include the current user is as a member.\")]),t._v(\" \"),a(\"p\",[t._v(\"You can use this function anywhere to get a list of groups of which the current user is a member, including both user groups and app groups that originate from sources outside Okta, such as from Active Directory and Workday. Additionally, you can use this combined, custom-formatted list for customizable claims into Access and ID Tokens that drive authorization flows. All three functions have the same parameters:\")]),t._v(\" \"),a(\"table\",[a(\"thead\",[a(\"tr\",[a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Parameter\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Description\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Nullable\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Example Values\")])])]),t._v(\" \"),a(\"tbody\",[a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"app\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Application type or App ID\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"FALSE\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[a(\"code\",[t._v('\"OKTA\"')]),t._v(\", \"),a(\"code\",[t._v('\"0oa13c5hnZFqZsoS00g4\"')]),t._v(\", \"),a(\"code\",[t._v('\"active_directory\"')])])]),t._v(\" \"),a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"pattern\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Search term\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"FALSE\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[a(\"code\",[t._v('\"Eastern-Region\"')]),t._v(\", \"),a(\"code\",[t._v('\"Eastern\"')]),t._v(\", \"),a(\"code\",[t._v('\"-Region\"')])])]),t._v(\" \"),a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"limit\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Maximum number of groups returned. Must be a valid EL expression and evaluate to a value from 1 to 100.\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"FALSE\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[a(\"code\",[t._v(\"1\")]),t._v(\", \"),a(\"code\",[t._v(\"50\")]),t._v(\", \"),a(\"code\",[t._v(\"100\")])])])])]),t._v(\" \"),a(\"p\",[t._v(\"To use these functions to create a token using a dynamic group whitelist, create a Groups claim on an app:\")]),t._v(\" \"),a(\"ol\",[a(\"li\",[a(\"p\",[t._v(\"In the administrator UI, navigate to the Sign On tab of the client application you are configuring, and click  \"),a(\"strong\",[t._v(\"Edit\")]),t._v(\" in the Open ID Connect ID Token section.\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"In \"),a(\"strong\",[t._v(\"Groups claim type\")]),t._v(\", choose \"),a(\"strong\",[t._v(\"Expression\")]),t._v(\".\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"In \"),a(\"strong\",[t._v(\"Group claims filter\")]),t._v(\", leave the default name \"),a(\"strong\",[t._v(\"groups\")]),t._v(\" or change it if you wish.\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"In Groups claim expression, add one of the three functions with the criteria for your dynamic group whitelist:\")]),t._v(\" \"),a(\"p\",[a(\"code\",[t._v('Groups.startsWith(\"active.directory\", \"myGroup\", 10)')])])])]),t._v(\" \"),a(\"p\",[t._v(\"Notes:\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"The syntax for these three functions is different from \"),a(\"code\",[t._v(\"getFilteredGroups\")]),t._v(\".\")]),t._v(\" \"),a(\"li\",[t._v(\"You can also create a claim directly in a Custom Authorization Server instead of on the OpenID Connect or OAuth 2.0 app.\")])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"create-groups-claims-with-a-static-whitelist\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#create-groups-claims-with-a-static-whitelist\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Create Groups Claims with a Static Whitelist\")]),t._v(\" \"),a(\"p\",[t._v(\"Perform the following two tasks before you start for either Okta Authorization Server or Custom Authorization Server.\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"Create an OAuth 2.0 or OpenID Connect client with the \"),a(\"a\",{attrs:{href:\"/docs/api/resources/apps#request-example-8\"}},[t._v(\"Apps API\")]),t._v(\". In the instruction examples, the client ID is \"),a(\"code\",[t._v(\"0oabskvc6442nkvQO0h7\")]),t._v(\".\")]),t._v(\" \"),a(\"li\",[t._v(\"Create the groups that you wish to configure in the groups claim. In the instruction examples, we're configuring the \"),a(\"code\",[t._v(\"WestCoastDivision\")]),t._v(\" group, and the group ID is \"),a(\"code\",[t._v(\"00gbso71miOMjxHRW0h7\")]),t._v(\".\")])]),t._v(\" \"),a(\"p\",[t._v(\"Now, use the instructions for your chosen authorization server to create a group claim, assign a group whitelist to your client app, and configure a groups claim that references a whitelist:\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[a(\"a\",{attrs:{href:\"#create-a-token-with-groups-claim-okta-authorization-server\"}},[t._v(\"Create a Token with Groups Claim and Okta Authorization Server\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#create-a-token-with-groups-claim-custom-authorization-server\"}},[t._v(\"Create a Token with Groups Claim and Custom Authorization Server\")])])]),t._v(\" \"),a(\"p\",[t._v(\"For examples using \"),a(\"router-link\",{attrs:{to:\"/reference/okta_expression_language/#group-functions\"}},[t._v(\"Okta Expression Language Group Functions\")]),t._v(\" in static whitelists, see \"),a(\"a\",{attrs:{href:\"#use-group-functions-for-static-group-whitelists\"}},[t._v(\"Use Group Functions for Static Group Whitelists\")]),t._v(\".\")],1),t._v(\" \"),a(\"h3\",{attrs:{id:\"create-a-token-with-groups-claim-okta-authorization-server\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#create-a-token-with-groups-claim-okta-authorization-server\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Create a Token with Groups Claim (Okta Authorization Server)\")]),t._v(\" \"),a(\"p\",[t._v(\"Use this procedure if you have the Okta Authorization Server, not the \"),a(\"code\",[t._v(\"default\")]),t._v(\" or other Custom Authorization Server.\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"step-one-get-the-group-ids\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-one-get-the-group-ids\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Step One: Get the Group IDs\")]),t._v(\" \"),a(\"p\",[t._v(\"Send a request to \"),a(\"code\",[t._v(\"https://{yourOktaDomain}/api/v1/groups\")]),t._v(\" and collect the IDs for all the groups you'll want to whitelist.\")]),t._v(\" \"),a(\"p\",[t._v(\"Request Example:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"curl\")]),t._v(\" -X GET \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'accept: application/json'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'authorization: SSWS \"),a(\"span\",{attrs:{class:\"token variable\"}},[t._v(\"${api_token}\")]),t._v(\"'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type: application/json'\")]),t._v(\" \\\\\\n\"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/api/v1/groups\"')]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"Response Example:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-json extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"id\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"00gbso71miOMjxHRW0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"created\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"2017-08-25T21:15:48.000Z\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"lastUpdated\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"2017-08-25T21:15:48.000Z\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"lastMembershipUpdated\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"2017-08-25T21:16:07.000Z\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"objectClass\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"okta:user_group\"')]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"OKTA_GROUP\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"profile\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"name\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"WestCoastDivision\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"description\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"Employees West of the Rockies\"')]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"_links\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"logo\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"name\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"medium\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"href\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://op1static.oktacdn.com/assets/img/logos/groups/okta-medium.d7fb831bc4e7e1a5d8bd35dfaf405d9e.png\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"image/png\"')]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"name\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"large\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"href\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://op1static.oktacdn.com/assets/img/logos/groups/okta-large.511fcb0de9da185b52589cb14d581c2c.png\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"image/png\"')]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"users\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"href\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/api/v1/groups/00gbso71miOMjxHRW0h7/users\"')]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"apps\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"href\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/api/v1/groups/00gbso71miOMjxHRW0h7/apps\"')]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"This example uses one \"),a(\"code\",[t._v(\"groupId\")]),t._v(\" for simplicity's sake.\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"step-two-add-list-of-groups-to-profile-of-client-app\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-two-add-list-of-groups-to-profile-of-client-app\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Step Two: Add List of Groups to Profile of Client App\")]),t._v(\" \"),a(\"p\",[t._v(\"If you only have one or two groups to specify, simply add the group IDs to the first parameter of the \"),a(\"code\",[t._v(\"getFilteredGroups\")]),t._v(\" function described in the next step.\\nHowever, if you have a lot of groups to whitelist, you can put the group IDs in the client app's profile property bag: \"),a(\"code\",[t._v(\"https://{yourOktaDomain}/api/v1/apps/${applicationId}\")]),t._v(\".\\nThe following example names the group whitelist \"),a(\"code\",[t._v(\"groupwhitelist\")]),t._v(\", but you can name it anything.\")]),t._v(\" \"),a(\"p\",[t._v(\"Request Example:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"curl\")]),t._v(\" -X PUT \\\\\\n\"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/api/v1/apps/0oabskvc6442nkvQO0h7\"')]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'accept: application/json'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'authorization: SSWS \"),a(\"span\",{attrs:{class:\"token variable\"}},[t._v(\"${api_token}\")]),t._v(\"'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'cache-control: no-cache'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type: application/json'\")]),t._v(\" \\\\\\n-d \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\\'{\\n  \"name\": \"oidc_client\",\\n  \"label\": \"Sample Client\",\\n  \"status\": \"ACTIVE\",\\n  \"signOnMode\": \"OPENID_CONNECT\",\\n  \"credentials\": {\\n    \"oauthClient\": {\\n      \"token_endpoint_auth_method\": \"client_secret_post\"\\n    }\\n  },\\n  \"settings\": {\\n    \"oauthClient\": {\\n      \"client_uri\": \"http://localhost:8080\",\\n      \"logo_uri\": \"http://developer.okta.com/assets/images/logo-new.png\",\\n      \"redirect_uris\": [\\n        \"https://example.com/oauth2/callback\",\\n        \"myapp://callback\"\\n      ],\\n      \"response_types\": [\\n        \"token\",\\n        \"id_token\",\\n        \"code\"\\n      ],\\n      \"grant_types\": [\\n        \"implicit\",\\n        \"authorization_code\"\\n      ],\\n      \"application_type\": \"native\"\\n    }\\n  },\\n  \"profile\": {\\n    \"groupwhitelist\": [\\n      \"00gbso71miOMjxHRW0h7\"\\n    ]\\n  }\\n}\\'')]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"You can add application groups, user groups, or both to the group whitelist, specified as an array of IDs.\")]),t._v(\" \"),a(\"p\",[t._v(\"To use the group whitelist for every client that gets this claim in a token, put the attribute name of the whitelist in the first parameter of the \"),a(\"code\",[t._v(\"getFilteredGroups\")]),t._v(\" function described in the next step.\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"step-three-configure-a-custom-claim-for-your-groups-okta-authorization-server\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-three-configure-a-custom-claim-for-your-groups-okta-authorization-server\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Step Three: Configure a Custom Claim for Your Groups (Okta Authorization Server)\")]),t._v(\" \"),a(\"p\",[t._v(\"For the Okta Authorization Server, you can only create an ID token with a groups claim, not an access token.\")]),t._v(\" \"),a(\"blockquote\",[a(\"p\",[t._v(\"This step requires the administrator UI. If you are using the Developer Console, select the drop-down control in the left side of the top banner to switch to Classic UI for Step Three.\")])]),t._v(\" \"),a(\"p\",[t._v(\"a. In the administrator UI, navigate to the Sign On tab of the client application you are configuring, and click the \"),a(\"strong\",[t._v(\"Edit\")]),t._v(\" button in the Open ID Connect ID Token section.\")]),t._v(\" \"),a(\"p\",[t._v(\"b. In \"),a(\"strong\",[t._v(\"Groups claim type\")]),t._v(\", choose \"),a(\"strong\",[t._v(\"Expression\")]),t._v(\".\")]),t._v(\" \"),a(\"p\",[t._v(\"c. In \"),a(\"strong\",[t._v(\"Group claims filter\")]),t._v(\", leave the default name \"),a(\"code\",[t._v(\"groups\")]),t._v(\" or change it if you wish.\")]),t._v(\" \"),a(\"p\",[t._v(\"d. In \"),a(\"strong\",[t._v(\"Groups claim expression\")]),t._v(\", add this expression: \"),a(\"code\",[t._v('getFilteredGroups(app.profile.groupwhitelist, \"group.name\", 40)')]),t._v(\".\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"step-four-send-a-test-request\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-four-send-a-test-request\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Step Four: Send a Test Request\")]),t._v(\" \"),a(\"p\",[t._v(\"To obtain a token with the configured groups claim, send a request for an ID token that includes the \"),a(\"code\",[t._v(\"groups\")]),t._v(\" claim set in step 3.c. as a scope to \"),a(\"code\",[t._v(\"https://{yourOktaDomain}/oauth2/v1/authorize\")]),t._v(\", as illustrated in the following example.\")]),t._v(\" \"),a(\"p\",[t._v(\"Request Example for Okta Authorization Server:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"curl\")]),t._v(\" -X GET \\\\\\n\"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/oauth2/v1/authorize?client_id=0oabskvc6442nkvQO0h7\\n&response_type=id_token\\n&response_mode=fragment&scope=openid%20groups\\n&redirect_uri=https%3A%2F%2Fexample.com\\n&state=myState&nonce='),a(\"span\",{attrs:{class:\"token variable\"}},[t._v(\"${yourNonceValue}\")]),t._v('\"')]),t._v(\"\\n\")])])]),a(\"h4\",{attrs:{id:\"step-five-decode-the-jwt-to-verify\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-five-decode-the-jwt-to-verify\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Step Five: Decode the JWT to Verify\")]),t._v(\" \"),a(\"p\",[t._v(\"Decode the JWT in the response to see that the groups are in the token. For example, this JWK contains the \"),a(\"code\",[t._v(\"groups\")]),t._v(\" claim in an ID token:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-JSON extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[a(\"code\",[t._v(\"eyJraWQiOiJiS0U0czM3d01tQWZ5ZzQtVFJQcVg1YW50blE1ajBuNFJKcE9nSl9zT0JVIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHU1dDYwaWxvT0hOOXBCaTBoNyIsInZlciI6MSwiaXNzIjoiaHR0cHM6Ly9teXN0aWNvcnAub2t0YXByZXZpZXcuY29tIiwiYXVkIjoiMG9hYnNrdmM2NDQybmt2UU8waDciLCJpYXQiOjE1MTQ0OTc3ODEsImV4cCI6MTUxNDUwMTM4MSwianRpIjoiSUQua0FlMWFzU08wM00walp0Y2ZHZGtpWGwwUW9LRHE5aHl3OE1VUU1UNGwtWSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvNXQ2MGlsM1V6eUllNXYwaDciLCJub25jZSI6IjQ1YzExMDJiLTM0MmUtNGZjMC04ZDllLWM0NTY0MmFlOWFkOCIsImF1dGhfdGltZSI6MTUxNDQ5NjM1MCwiZ3JvdXBzIjpbIldlc3RDb2FzdERpdmlzaW9uIl19.ACKbJZ-lbGtgBAQDhamq7K9WJzHS0WySN0R2LXSkBahWWVMU1W-oTh2xDuHmyQv6HZpk-V4epnk-OItRBQb214NsRG8AJGn5n3QGYp5xPWVXXQ_hFZSro4br6Rdn_U8iZebqs6EXpGhxG7tN9VEgB-SkAynHdy2MbQpikGWcxORSA8vQLQhDRt2VZDobienTA8zLeThzOyAmhPjELxHRHFVT1OOrEoCqUV6wlk8LfhATRlxZGm6lrlZQbqxV_PDM8u7zN0l9XV01Rh0WHO7zZ_Oq0PEeQkf-TC9x7Gl_pOuRyRfGEsrqq-ZEL6AZszxotRKQJO1nNahAhfbNESO2mg\\n\")])])]),a(\"p\",[t._v(\"Example Payload Data for ID Token:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-JSON extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"sub\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"00u5t60iloOHN9pBi0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"ver\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"iss\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"aud\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"0oabskvc6442nkvQO0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"iat\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1514497781\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"exp\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1514501381\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"jti\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"ID.kAe1asSO03M0jZtcfGdkiXl0QoKDq9hyw8MUQMT4l-Y\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"amr\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"pwd\"')]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"idp\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"00o5t60il3UzyIe5v0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"nonce\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"${yourNonceValue}\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"auth_time\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1514496350\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"groups\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"WestCoastDivision\"')]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"The ID token contains the group WestCoastDivision so the audience (\"),a(\"code\",[t._v(\"aud\")]),t._v(\") has access to the group information about the user.\")]),t._v(\" \"),a(\"p\",[t._v(\"For flows other than implicit, post to the token endpoint \"),a(\"code\",[t._v(\"https://{yourOktaDomain}/oauth2/v1/token\")]),t._v(\" with the user or client you want. Make sure the user is assigned to the app and to one of the groups from your whitelist.\")]),t._v(\" \"),a(\"p\",[t._v(\"If the results aren't as expected, start your troubleshooting by inspecting the System Log to see what went wrong. Also, try requesting only an ID token instead of both and ID token and access token.\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"create-a-token-with-groups-claim-custom-authorization-server\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#create-a-token-with-groups-claim-custom-authorization-server\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Create a Token with Groups Claim (Custom Authorization Server)\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"step-one-get-the-group-ids-2\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-one-get-the-group-ids-2\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Step One: Get the Group IDs\")]),t._v(\" \"),a(\"p\",[t._v(\"Send a request to \"),a(\"code\",[t._v(\"https://{yourOktaDomain}/api/v1/groups\")]),t._v(\" and collect the IDs for all the groups you'll want to whitelist.\")]),t._v(\" \"),a(\"p\",[t._v(\"Request Example:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"curl\")]),t._v(\" -X GET \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'accept: application/json'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'authorization: SSWS \"),a(\"span\",{attrs:{class:\"token variable\"}},[t._v(\"${api_token}\")]),t._v(\"'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type: application/json'\")]),t._v(\" \\\\\\n\"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/api/v1/groups\"')]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"This example uses one \"),a(\"code\",[t._v(\"groupId\")]),t._v(\" for simplicity's sake.\")]),t._v(\" \"),a(\"p\",[t._v(\"Response Example:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-json extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"id\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"00gbso71miOMjxHRW0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"created\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"2017-08-25T21:15:48.000Z\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"lastUpdated\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"2017-08-25T21:15:48.000Z\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"lastMembershipUpdated\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"2017-08-25T21:16:07.000Z\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"objectClass\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"okta:user_group\"')]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"OKTA_GROUP\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"profile\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"name\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"WestCoastDivision\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"description\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"Employees West of the Rockies\"')]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"_links\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"logo\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"name\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"medium\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"href\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://op1static.oktacdn.com/assets/img/logos/groups/okta-medium.d7fb831bc4e7e1a5d8bd35dfaf405d9e.png\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"image/png\"')]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"name\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"large\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"href\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://op1static.oktacdn.com/assets/img/logos/groups/okta-large.511fcb0de9da185b52589cb14d581c2c.png\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"image/png\"')]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"users\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"href\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/api/v1/groups/00gbso71miOMjxHRW0h7/users\"')]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"apps\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"href\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/api/v1/groups/00gbso71miOMjxHRW0h7/apps\"')]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\")])])]),a(\"h4\",{attrs:{id:\"step-two-add-list-of-groups-to-profile-of-client-app-2\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-two-add-list-of-groups-to-profile-of-client-app-2\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Step Two:  Add List of Groups to Profile of Client App\")]),t._v(\" \"),a(\"p\",[t._v(\"If you only have one or two groups to specify, simply add the group IDs to the first parameter of the \"),a(\"code\",[t._v(\"getFilteredGroups\")]),t._v(\" function described in the next step.\\nHowever, if you have a lot of groups to whitelist, you can put the group IDs in the client app's profile property bag: \"),a(\"code\",[t._v(\"https://{yourOktaDomain}/api/v1/apps/${applicationId}\")]),t._v(\".\")]),t._v(\" \"),a(\"p\",[t._v(\"This example names the group whitelist \"),a(\"code\",[t._v(\"groupwhitelist\")]),t._v(\", but you can name it anything.\")]),t._v(\" \"),a(\"p\",[t._v(\"Request Example:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"curl\")]),t._v(\" -X POST \\\\\\n\"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/api/v1/apps/0oabskvc6442nkvQO0h7\"')]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'accept: application/json'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'authorization: SSWS \"),a(\"span\",{attrs:{class:\"token variable\"}},[t._v(\"${api_token}\")]),t._v(\"'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'cache-control: no-cache'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type: application/json'\")]),t._v(\" \\\\\\n-d \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\\'{\\n  \"name\": \"oidc_client\",\\n  \"label\": \"Sample Client\",\\n  \"status\": \"ACTIVE\",\\n  \"signOnMode\": \"OPENID_CONNECT\",\\n  \"credentials\": {\\n    \"oauthClient\": {\\n      \"token_endpoint_auth_method\": \"client_secret_post\"\\n    }\\n  },\\n  \"settings\": {\\n    \"oauthClient\": {\\n      \"client_uri\": \"http://localhost:8080\",\\n      \"logo_uri\": \"http://developer.okta.com/assets/images/logo-new.png\",\\n      \"redirect_uris\": [\\n        \"https://example.com/oauth2/callback\",\\n        \"myapp://callback\"\\n      ],\\n      \"response_types\": [\\n        \"token\",\\n        \"id_token\",\\n        \"code\"\\n      ],\\n      \"grant_types\": [\\n        \"implicit\",\\n        \"authorization_code\"\\n      ],\\n      \"application_type\": \"native\"\\n    }\\n  },\\n  \"profile\": {\\n    \"groupwhitelist\": [\\n      \"00gbso71miOMjxHRW0h7\"\\n    ]\\n  }\\n}\\'')]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"You can add application groups, user groups or both to the group whitelist, specified as an array of IDs.\")]),t._v(\" \"),a(\"p\",[t._v(\"To use the group whitelist for every client that gets this claim in a token, put the attribute name of the whitelist in the first parameter of the \"),a(\"code\",[t._v(\"getFilteredGroups\")]),t._v(\" function described in the next step.\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"step-three-configure-a-custom-claim-for-your-groups-custom-authorization-server\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-three-configure-a-custom-claim-for-your-groups-custom-authorization-server\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Step Three: Configure a Custom Claim for Your Groups (Custom Authorization Server)\")]),t._v(\" \"),a(\"p\",[t._v(\"Add a custom claim for the ID token or access token on a Custom Authorization Server with the following function:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(' getFilteredGroups({app.profile.whitelist},\\n \"{value-to-represent-the-group-in-the-token}\",\\n {maximum-number-of-groups-to-include-in-token})\\n')])])]),a(\"p\",[t._v(\"The maximum number of groups specified must be less than 100.\")]),t._v(\" \"),a(\"p\",[t._v(\"In the following two examples for creating the groups claim, the \"),a(\"code\",[t._v(\"name\")]),t._v(\" for the claim is \"),a(\"code\",[t._v(\"groups\")]),t._v(\", but you can name it whatever you wish.\")]),t._v(\" \"),a(\"h5\",{attrs:{id:\"request-example-for-access-token\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#request-example-for-access-token\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Request Example for Access Token\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"curl\")]),t._v(\" -X POST \\\\\\n\"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/api/v1/authorizationServers/ausain6z9zIedDCxB0h7/claims\"')]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'accept: application/json'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'authorization: SSWS \"),a(\"span\",{attrs:{class:\"token variable\"}},[t._v(\"${api_token}\")]),t._v(\"'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'cache-control: no-cache'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type: application/json'\")]),t._v(\" \\\\\\n-d \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\\'{\\n  \"name\": \"groups\",\\n  \"status\": \"ACTIVE\",\\n  \"claimType\": \"RESOURCE\",\\n  \"valueType\": \"EXPRESSION\",\\n  \"value\": \"\\\\\"getFilteredGroups(app.profile.groupwhitelist, \\\\\"group.name\\\\\", 40)\\\\\"\",\\n  \"conditions\": {\\n    \"scopes\": []\\n  }\\n}\\'')]),t._v(\"\\n\")])])]),a(\"h5\",{attrs:{id:\"request-example-for-id-token\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#request-example-for-id-token\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Request Example for ID Token\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"curl\")]),t._v(\" -X POST \\\\\\n\"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/api/v1/authorizationServers/ausain6z9zIedDCxB0h7/claims\"')]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'accept: application/json'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'authorization: SSWS \"),a(\"span\",{attrs:{class:\"token variable\"}},[t._v(\"${api_token}\")]),t._v(\"'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'cache-control: no-cache'\")]),t._v(\" \\\\\\n-H \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type: application/json'\")]),t._v(\" \\\\\\n-d \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\\'{\\n  \"name\": \"groups\",\\n  \"status\": \"ACTIVE\",\\n  \"claimType\": \"IDENTITY\",\\n  \"valueType\": \"EXPRESSION\",\\n  \"value\": \"\\\\\"getFilteredGroups(app.profile.groupwhitelist, \\\\\"group.name\\\\\", 40)\\\\\"\",\\n  \"conditions\": {\\n    \"scopes\": []\\n  }\\n}\\'')]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"Be sure that you have a policy and rule set up in your Custom Authorization Server or the request in the next step won't work.\")]),t._v(\" \"),a(\"p\",[t._v(\"See \"),a(\"a\",{attrs:{href:\"#create-groups-claims-with-a-dynamic-whitelist\"}},[t._v(\"Create Groups Claims with a Dynamic Whitelist\")]),t._v(\", above for more information about specifying groups with \"),a(\"code\",[t._v(\"getFilteredGroups\")]),t._v(\".\")]),t._v(\" \"),a(\"p\",[t._v(\"Now when you mint a token, groups in the \"),a(\"code\",[t._v(\"groupwhitelist\")]),t._v(\" that also have the user as a member are included in the \"),a(\"code\",[t._v(\"groups\")]),t._v(\" claim. Test your configuration in the next step.\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"step-four-send-a-test-request-2\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-four-send-a-test-request-2\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Step Four: Send a Test Request\")]),t._v(\" \"),a(\"p\",[t._v(\"To obtain a token with the configured groups claim, send a request for an ID token that includes one of the scopes that the claim is associated with: \"),a(\"code\",[t._v(\"https://{yourOktaDomain}/oauth2/${authServerId}/v1/authorize\")]),t._v(\".\")]),t._v(\" \"),a(\"h5\",{attrs:{id:\"request-example-for-custom-authorization-server\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#request-example-for-custom-authorization-server\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Request Example for Custom Authorization Server:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"curl\")]),t._v(\" -X GET \\\\\\n\"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/oauth2/ausain6z9zIedDCxB0h7/v1/authorize?client_id=0oabskvc6442nkvQO0h7\\n&response_type=id_token\\n&response_mode=fragment\\n&scope=groups%20openid\\n&redirect_uri=https%3A%2F%2Fexample.com\\n&state=myState&nonce='),a(\"span\",{attrs:{class:\"token variable\"}},[t._v(\"${myNonceValue}\")]),t._v('\"')]),t._v(\"\\n\")])])]),a(\"blockquote\",[a(\"p\",[t._v(\"Note:\")])]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"In this example, the claim was configured to work with all scopes. If you specify only certain scopes to return the claim, you'll need to specify one of them in the request.\")]),t._v(\" \"),a(\"li\",[t._v(\"To obtain an access token, simply change \"),a(\"code\",[t._v(\"response_type=id_token\")]),t._v(\" to \"),a(\"code\",[t._v(\"response_type='token'\")]),t._v(\".\")])]),t._v(\" \"),a(\"h4\",{attrs:{id:\"step-five-decode-the-jwt-to-verify-2\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-five-decode-the-jwt-to-verify-2\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Step Five: Decode the JWT to Verify\")]),t._v(\" \"),a(\"p\",[t._v(\"Decode the JWT in the response to see that the groups are in the token. For example, this JWK contains the group claim:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-JSON extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[a(\"code\",[t._v(\"eyJraWQiOiJ2U2N0OVJ0R2g5ang5QVFfT05aNEFhM19lZ3YwVlktelJKWTZvbmE5R3o4IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHU1dDYwaWxvT0hOOXBCaTBoNyIsInZlciI6MSwiaXNzIjoiaHR0cHM6Ly9teXN0aWNvcnAub2t0YXByZXZpZXcuY29tL29hdXRoMi9hdXNhaW42ejl6SWVkREN4QjBoNyIsImF1ZCI6IjBvYWJza3ZjNjQ0Mm5rdlFPMGg3IiwiaWF0IjoxNTE0NDk3MzQ2LCJleHAiOjE1MTQ1MDA5NDYsImp0aSI6IklELlo1RkhPY1BhUUI3Q3ExeXhkRElIRzhieDd0Y3gxVGxYcFdvZTY4cHpGSDgiLCJhbXIiOlsicHdkIl0sImlkcCI6IjAwbzV0NjBpbDNVenlJZTV2MGg3Iiwibm9uY2UiOiIzODBiNTgwMS05MTYzLTRjNGEtOWMyMS1kNjBhMmEzMzJhNzciLCJhdXRoX3RpbWUiOjE1MTQ0OTYzNTAsIm15Z3JvdXBXaGl0ZWxpc3QiOlsiV2VzdENvYXN0RGl2aXNpb24iXX0.X4_rs_bgmWW5cX6p-fur_EN4-Uf2hz3jZZVUgdBRUX0x64O7wbmuPXGicjfLIMH6HRx7bETPjALNoSjvUrFI1IEHBMVROZQGvAYtB5f5ge6ZvZVNk0B8Coz6h3Y9vLmZGwxOFHR0_bbQQC2j01wKKeFPjznfMxtEuBLkD2DXuF7WkHZSmMG5dp7L9LUpvwfCQ2fv1SYRQ_pRVGIxZK5jh9O2yip4LMANbayDkF0Ud8lbq9CAv3Zz4tG77Cwou87yphnHlPgHDrCRRiEbCoe6Q1l8UIfMC3kfaT2HoyJb6jvA91h89jgRbIvUEfasrLoSwUJQv-sYz302QiQdF8WZAQ\\n\")])])]),a(\"h5\",{attrs:{id:\"example-payload-data-for-an-id-token\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#example-payload-data-for-an-id-token\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Example Payload Data for an ID Token:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-JSON extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"sub\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"00u5t60iloOHN9pBi0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"ver\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"iss\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}/oauth2/ausain6z9zIedDCxB0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"aud\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"0oabskvc6442nkvQO0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"iat\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1514497346\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"exp\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1514500946\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"jti\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"ID.Z5FHOcPaQB7Cq1yxdDIHG8bx7tcx1TlXpWoe68pzFH8\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"amr\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"pwd\"')]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"idp\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"00o5t60il3UzyIe5v0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"nonce\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"${myNonceValue}\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"auth_time\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1514496350\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"groups\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"WestCoastDivision\"')]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),a(\"h5\",{attrs:{id:\"example-payload-data-for-an-access-token\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#example-payload-data-for-an-access-token\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Example Payload Data for an Access Token:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-JSON extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"aud\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"https://{yourOktaDomain}\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"sub\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"annie.jackson@acme.com\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"iat\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1511983934\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"exp\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1511987534\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"cid\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"0oabskvc6442nkvQO0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"uid\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"00u5t60iloOHN9pBi0h7\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"scp\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"openid\"')]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"groups\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"WestCoastDivision\"')]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"The ID token or access token contains the group WestCoastDivision so the audience (\"),a(\"code\",[t._v(\"aud\")]),t._v(\") has access to the group information about the user.\")]),t._v(\" \"),a(\"p\",[t._v(\"For flows other than implicit, post to the token endpoint \"),a(\"code\",[t._v(\"https://{yourOktaDomain}/oauth2/${authServerId}/v1/token\")]),t._v(\" with the user or client you want. Make sure the user is assigned to the app and to one of the groups from your whitelist.\")]),t._v(\" \"),a(\"p\",[t._v(\"If the results aren't as expected, start your troubleshooting by inspecting the System Log to see what went wrong. Also, try requesting only an ID token instead of both and ID token and access token.\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"use-group-functions-for-static-group-whitelists\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#use-group-functions-for-static-group-whitelists\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Use Group Functions for Static Group Whitelists\")]),t._v(\" \"),a(\"p\",[t._v(\"The \"),a(\"code\",[t._v(\"getFilteredGroups\")]),t._v(\" group function helps you use a static group whitelist.\")]),t._v(\" \"),a(\"p\",[a(\"code\",[t._v(\"getFilteredGroups\")]),t._v(\" returns all groups contained in a specified list, the whitelist, of which the user is a member. The groups are returned in a format specified by the \"),a(\"code\",[t._v(\"group_expression\")]),t._v(\" parameter. You must specify the maximum number of groups to return. The format of this EL function is \"),a(\"code\",[t._v(\"getFilteredGroups( whitelist, group_expression, limit)\")]),t._v(\".\")]),t._v(\" \"),a(\"p\",[t._v(\"You can use this function anywhere to get a list of groups of which the current user is a member, including both user groups and app groups that originate from sources outside Okta, such as from Active Directory and Workday. Additionally, you can use this combined, custom-formatted list for customizable claims into Access and ID Tokens that drive authorization flows.\")]),t._v(\" \"),a(\"p\",[t._v(\"This function takes Okta EL expressions for all parameters that evaluate to the correct data type. With these expressions you can create complex definitions for the whitelist, the group format, and for the number of groups to return that can include \"),a(\"code\",[t._v(\"if\")]),t._v(\" logic and customized formatting.\")]),t._v(\" \"),a(\"table\",[a(\"thead\",[a(\"tr\",[a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Parameter\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Description\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Nullable\")])])]),t._v(\" \"),a(\"tbody\",[a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"whitelist\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Valid Okta EL expression that evaluates to a string array of group ids\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"FALSE\")])]),t._v(\" \"),a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"group_expression\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Valid Okta EL expression that evaluates to a string to use to evaluate the group. This string must also be a valid Okta EL expression.\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"FALSE\")])]),t._v(\" \"),a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"limit\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Valid Okta EL expression that evaluates to an integer between 1 and 100, inclusive to indicate the maximum number of groups to return\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"FALSE\")])])])]),t._v(\" \"),a(\"p\",[t._v(\"All parameters must be valid Okta EL expressions that evaluate as described above. Okta EL expressions can be comprised of strings, integers, arrays, etc.\")]),t._v(\" \"),a(\"p\",[t._v(\"The string produced by the \"),a(\"code\",[t._v(\"group_expression\")]),t._v(\" parameter usually contains attributes and objects from the \"),a(\"a\",{attrs:{href:\"/docs/api/resources/groups\"}},[t._v(\"Groups API\")]),t._v(\", although it is not limited to those attributes and objects. Attributes and objects listed in the \"),a(\"a\",{attrs:{href:\"/docs/api/resources/groups#group-attributes\"}},[t._v(\"Group Attributes\")]),t._v(\" section of the Groups API can be any of the following: \"),a(\"code\",[t._v(\"id\")]),t._v(\", \"),a(\"code\",[t._v(\"status\")]),t._v(\", \"),a(\"code\",[t._v(\"name\")]),t._v(\", \"),a(\"code\",[t._v(\"description\")]),t._v(\", \"),a(\"code\",[t._v(\"objectClass\")]),t._v(\", and the \"),a(\"code\",[t._v(\"profile\")]),t._v(\" object that contains the \"),a(\"code\",[t._v(\"groupType\")]),t._v(\", \"),a(\"code\",[t._v(\"samAccountName\")]),t._v(\", \"),a(\"code\",[t._v(\"objectSid\")]),t._v(\", \"),a(\"code\",[t._v(\"groupScope\")]),t._v(\", \"),a(\"code\",[t._v(\"windowsDomainQualifiedName\")]),t._v(\", \"),a(\"code\",[t._v(\"dn\")]),t._v(\", and \"),a(\"code\",[t._v(\"externalID\")]),t._v(\" attributes for groups that come from apps such as Active Directory.\")]),t._v(\" \"),a(\"p\",[t._v(\"The \"),a(\"code\",[t._v(\"whitelist\")]),t._v(\" parameter must evaluate to a list of group ids that is returned from the \"),a(\"a\",{attrs:{href:\"/docs/api/resources/groups\"}},[t._v(\"Groups API\")]),t._v(\". If the user is not member of a group in the whitelist, the group is ignored.\")]),t._v(\" \"),a(\"p\",[a(\"strong\",[t._v(\"Parameter Examples\")])]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"whitelist\\n\"),a(\"ul\",[a(\"li\",[t._v(\"Array: \"),a(\"code\",[t._v('{\"00gn335BVurvavwEEL0g3\", \"00gnfg5BVurvavAAEL0g3\"}')]),a(\"br\")]),t._v(\" \"),a(\"li\",[t._v(\"Array variable: \"),a(\"code\",[t._v(\"app.profile.groups.whitelist\")])])])]),t._v(\" \"),a(\"li\",[t._v(\"group_expression\\n\"),a(\"ul\",[a(\"li\",[t._v(\"Attribute name: \"),a(\"code\",[t._v('\"group.id\"')])]),t._v(\" \"),a(\"li\",[t._v(\"Okta EL string containing an if condition: \"),a(\"code\",[t._v(\"\\\"(group.objectClass[0] == 'okta:windows_security_principal') ? 'AD: ' + group.profile.windowsDomainQualifiedName : 'Okta: ' + group.name\\\"\")]),t._v(\"\\nIf \"),a(\"em\",[t._v(\"okta:windows_security_principal\")]),t._v(\" is true for\\na group, the function returns the \"),a(\"code\",[t._v(\"windowsDomainQualifiedName\")]),t._v(\" prefixed with \"),a(\"code\",[t._v(\"AD:\")]),t._v(\"; otherwise, the function returns the group name prefixed with \"),a(\"code\",[t._v(\"Okta:\")]),t._v(\".\")])])]),t._v(\" \"),a(\"li\",[t._v(\"limit\\n\"),a(\"ul\",[a(\"li\",[t._v(\"Integer between 1 and 100, inclusive; for example: \"),a(\"code\",[t._v(\"50\")]),t._v(\".\")]),t._v(\" \"),a(\"li\",[t._v(\"Okta EL expression containing a condition that evaluates to an integer: \"),a(\"code\",[t._v(\"app.profile.maxLimit < 100 ? app.profile.maxLimit : 100\")]),t._v(\".\\nIf the maximum group limit in the profile is less than 100, return that number of groups; otherwise, return a maximum of 100 groups. If there are more groups returned than the specified limit, an error is returned.\")])])])])])},[],!1,null,null,null);o.options.__file=\"index.md\";s.default=o.exports}}]);","extractedComments":[]}