{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[395],{487:function(t,e,o){\"use strict\";o.r(e);var a={props:[\"slot-key\"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit(\"AsyncMarkdownContentMounted\",this.slotKey)})}},r=o(5),n=Object(r.a)(a,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.slotKey}},[o(\"h1\",{attrs:{id:\"introduction\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#introduction\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Introduction\")]),t._v(\" \"),o(\"p\",[t._v(\"Application developers and organizations are increasingly\\nimplementing multi-factor authentication to add an extra layer of\\nsecurity to their applications.\")]),t._v(\" \"),o(\"blockquote\",{staticClass:\"twitter-tweet\",attrs:{lang:\"en\"}},[o(\"p\",[t._v(\"In all my years working in this industry I've seen exactly 2\\neffective security technologies stand the test of time: firewalls\\nand 2fa\")]),t._v(\"â€” Chris Rohlf (@chrisrohlf) March 8, 2015\\n\")]),t._v(\" \"),o(\"p\",[t._v(\"In this guide, we'll show you how to add multi-factor authentication\\nto your app with Okta.\")]),t._v(\" \"),o(\"p\",[t._v(\"Okta gives you the flexibility to deploy our built-in\\nfactors, or integrate with existing tokens. Native factors include\\nSMS, and the Okta Verify app for iOS and Android. Integrations include\\nGoogle Authenticator, RSA SecurID, Symantec VIP, and Duo Security.\")]),t._v(\" \"),o(\"p\",[t._v(\"Let's get started!\")]),t._v(\" \"),o(\"iframe\",{attrs:{src:\"https://player.vimeo.com/video/123445568\",width:\"500\",height:\"281\",frameborder:\"0\",webkitallowfullscreen:\"\",mozallowfullscreen:\"\",allowfullscreen:\"\"}}),t._v(\" \"),o(\"h3\",{attrs:{id:\"prerequisites\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#prerequisites\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Prerequisites\")]),t._v(\" \"),o(\"p\",[t._v(\"To follow along with this guide, you will need to have your own Okta Developer Edition org and have Postman configured to make API requests to that account.\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Creating your Okta Developer Edition org\\nIf you don't already have one, create your own Okta Developer\\nEdition org by visiting: \"),o(\"a\",{attrs:{href:\"https://developer.okta.com/signup/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"https://developer.okta.com/signup/\"),o(\"OutboundLink\")],1),t._v(\"\\nand following the instructions.\")]),t._v(\" \"),o(\"li\",[t._v(\"Setting up the Postman API client\\nAfter you have logged in to your account in your Okta Developer\\nEdition org, follow the\\n\"),o(\"router-link\",{attrs:{to:\"/code/rest/\"}},[t._v(\"instructions on the Okta Developer Documentation page for setting up Postman\")]),t._v(\".\")],1)]),t._v(\" \"),o(\"h1\",{attrs:{id:\"overview-of-api-calls-used-for-multi-factor-authentication\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#overview-of-api-calls-used-for-multi-factor-authentication\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Overview of API calls used for multi-factor authentication\")]),t._v(\" \"),o(\"p\",[t._v(\"Below is an introduction to using Okta's Multi-Factor Authentication (MFA)\\nAPI to add MFA to an existing application.\")]),t._v(\" \"),o(\"p\",[t._v(\"In this guide, you will learn the actual HTTPS requests that are\\ninvolved in adding MFA to your\\napplication. How use actually make these calls will depend on the\\nprogramming language and web framework that your application uses.\")]),t._v(\" \"),o(\"p\",[t._v(\"If you are writing code in .NET or Java, \"),o(\"router-link\",{attrs:{to:\"/documentation/\"}},[t._v(\"Okta has helper libraries\")]),t._v(\"\\nthat will make it easy to add support for Okta to your application\\nin an idiomatic way.\")],1),t._v(\" \"),o(\"h3\",{attrs:{id:\"setting-up-your-okta-org-for-mfa\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#setting-up-your-okta-org-for-mfa\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Setting up your Okta org for MFA\")]),t._v(\" \"),o(\"p\",[t._v(\"Before you can start writing code, you'll need to make do a few\\nthings in the administrator UI to your Okta org.\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Enable support for MFA.\")]),t._v(\" \"),o(\"li\",[o(\"a\",{attrs:{href:\"/docs/api/getting_started/getting_a_token\"}},[t._v(\"Create an API token\")]),t._v(\".\")])]),t._v(\" \"),o(\"h3\",{attrs:{id:\"enabling-mfa-in-your-okta-org\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#enabling-mfa-in-your-okta-org\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Enabling MFA in your Okta org\")]),t._v(\" \"),o(\"p\",[t._v(\"You must enable MFA from the Admin\\ninterface of your Okta org before you can use it from the\\nOkta API. Here is how to enable MFA for\\nyour Okta org:\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Log in to your Okta org as a user with administration.\")]),t._v(\" \"),o(\"li\",[t._v('Click the \"Admin\" button to get into the administrator interface.')]),t._v(\" \"),o(\"li\",[t._v('Open the \"Security\" menu.')]),t._v(\" \"),o(\"li\",[t._v('Select \"Authentication\" from the menu.')]),t._v(\" \"),o(\"li\",[t._v('Click on \"Multifactor\".')]),t._v(\" \"),o(\"li\",[t._v('Click the \"Edit\" button in the \"Factor Types\" section.')]),t._v(\" \"),o(\"li\",[t._v('Check the check boxes next to \"Google Authenticator\" and \"SMS\\nAuthentication\".')]),t._v(\" \"),o(\"li\",[t._v('Click the green \"Save\" button.')])]),t._v(\" \"),o(\"p\",[t._v(\"For more information about MFA and the Okta org, see the \"),o(\"a\",{attrs:{href:\"https://help.okta.com/en/prod/Content/Topics/Security/MFA.htm\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"MFA\"),o(\"OutboundLink\")],1),t._v(\" and \"),o(\"a\",{attrs:{href:\"https://help.okta.com/en/prod/Content/Topics/Security/Security_Policies.htm\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Security Policies\"),o(\"OutboundLink\")],1),t._v(\" help topics.\")]),t._v(\" \"),o(\"h3\",{attrs:{id:\"creating-an-api-token-for-your-okta-org\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#creating-an-api-token-for-your-okta-org\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Creating an API token for your Okta org\")]),t._v(\" \"),o(\"p\",[t._v(\"Requests made to the Okta API are authenticated via an API\\ntoken. \"),o(\"a\",{attrs:{href:\"/docs/api/getting_started/getting_a_token\"}},[t._v(\"Here is how to create an API token for your Okta\\norg\")]),t._v(\".\")]),t._v(\" \"),o(\"h3\",{attrs:{id:\"set-up-postman\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#set-up-postman\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Set up Postman\")]),t._v(\" \"),o(\"p\",[t._v(\"If you haven't set up Postman already, you will need to do that\\nnow. Here are \"),o(\"router-link\",{attrs:{to:\"/code/rest/\"}},[t._v(\"instructions for setting up Postman to work with Okta\")]),t._v(\".\")],1),t._v(\" \"),o(\"h3\",{attrs:{id:\"test-postman\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#test-postman\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Test Postman\")]),t._v(\" \"),o(\"p\",[t._v('Before you get started, you will want to make sure your Postman\\nsetup is configured correctly, a \"'),o(\"a\",{attrs:{href:\"https://en.wikipedia.org/wiki/%22Hello,_World!%22_program\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Hello World\"),o(\"OutboundLink\")],1),t._v('\" of sorts. Test your\\nPostman setup as follows:')]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Open Postman.\")]),t._v(\" \"),o(\"li\",[t._v('Open the \"Collections\" section in Postman.')]),t._v(\" \"),o(\"li\",[t._v('Select the \"Users (Okta API)\" collection.')]),t._v(\" \"),o(\"li\",[t._v('Scroll until you see the \"GET List Users\" request template.')]),t._v(\" \"),o(\"li\",[t._v('Select the \"GET List Users\" request template.')]),t._v(\" \"),o(\"li\",[t._v('Click the blue \"Send\" button.')])]),t._v(\" \"),o(\"p\",[t._v(\"You'll know it is working if you get back JSON containing one or more user objects.\")]),t._v(\" \"),o(\"h3\",{attrs:{id:\"create-a-test-user\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#create-a-test-user\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Create a test user\")]),t._v(\" \"),o(\"p\",[t._v(\"The first step in adding MFA to an existing\\napplication is to create a user account in Okta. Among other\\nthings, creating a user account in Okta allows you to add\\nMFA to your application without needing to\\nupdate your user schemas.\")]),t._v(\" \"),o(\"p\",[t._v(\"For the purposes of this demonstration, we will be creating a\\nrandom user generated using the \"),o(\"a\",{attrs:{href:\"https://randomuser.me/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Random User Generator\"),o(\"OutboundLink\")],1),t._v(\" website:\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Generate a random user by loading \"),o(\"a\",{attrs:{href:\"https://randomuser.me\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"https://randomuser.me\"),o(\"OutboundLink\")],1),t._v(\" in\\nyour browser.\")]),t._v(\" \"),o(\"li\",[t._v(\"Copy the random user's data from the website to somewhere you\\ncan refer to later:\\n\"),o(\"ul\",[o(\"li\",[t._v(\"First Name\")]),t._v(\" \"),o(\"li\",[t._v(\"Last Name\")]),t._v(\" \"),o(\"li\",[t._v(\"Email Address\")])])]),t._v(\" \"),o(\"li\",[t._v(\"Open the \"),o(\"strong\",[t._v(\"Users (Okta API)\")]),t._v(\" collection in Postman.\")]),t._v(\" \"),o(\"li\",[t._v('Create a user using the \"POST Create User without Credentials\"\\nrequest template in Postman.')]),t._v(\" \"),o(\"li\",[t._v(\"Save the value of the \"),o(\"code\",[t._v(\"id\")]),t._v(\" (the User ID) that is returned by Postman, you will\\nbe using this ID a lot. (In Okta, User ID's start with \"),o(\"code\",[t._v(\"00u\")]),t._v(\")\")])]),t._v(\" \"),o(\"h3\",{attrs:{id:\"adding-mfa\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#adding-mfa\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Adding MFA\")]),t._v(\" \"),o(\"p\",[t._v('Now that you have created a user account in Okta, you are ready to\\nsetup MFA for that user account. A key part of enabling MFA for a\\nuser is actually verifying that they have a MFA token. In Okta,\\nthis process is known as \"Enrollment\". Once a MFA token has been\\nenrolled, we can then \"Verify\" that they actually have this token\\nby asking them to answer a challenge using their token.')]),t._v(\" \"),o(\"p\",[t._v(\"The process attaching a factor to a user is similar for every type\\nof factor that Okta supports. In the video we show how to attach a\\nGoogle Authenticator factor as well as a phone as a factor using\\nSMS. In this document we will only cover how to attach a Google\\nAuthenticator factor.\")]),t._v(\" \"),o(\"p\",[t._v(\"At a high level, the process of attaching a factor to an account is\\nsimilar for all factors an works as follows:\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Add a factor to the user account.\")]),t._v(\" \"),o(\"li\",[t._v(\"Enroll the factor.\")])]),t._v(\" \"),o(\"p\",[t._v(\"Once the factor has been enrolled, you can verify it as needed.\")]),t._v(\" \"),o(\"h3\",{attrs:{id:\"adding-a-factor-to-a-user-account\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#adding-a-factor-to-a-user-account\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Adding a factor to a user account\")]),t._v(\" \"),o(\"p\",[t._v(\"Using the User ID that you created earlier, add a Google\\nAuthenticator factor to that user as follows:\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Open the \"),o(\"strong\",[t._v(\"Factors (Okta API)\")]),t._v(\" collection in Postman.\")]),t._v(\" \"),o(\"li\",[t._v(\"Add a new Google Authenticator Factor to your user with the\\n\"),o(\"strong\",[t._v(\"POST Enroll Google Authenticator Factor\")]),t._v(\" request template in\\nPostman. \"),o(\"strong\",[t._v(\"Important\")]),t._v(\", be sure to replace the \"),o(\"code\",[t._v(\"{userId}\")]),t._v(\"\\ntemplate in the request URL with the User ID for the user you\\ncreated previously.\")]),t._v(\" \"),o(\"li\",[t._v(\"Save the value of the \"),o(\"code\",[t._v(\"id\")]),t._v(\" (the Factor ID) that is returned by\\nPostman, you will be using this id in the next step.\")]),t._v(\" \"),o(\"li\",[t._v(\"Copy the URL located in the \"),o(\"code\",[t._v(\"href\")]),t._v(\" value of the \"),o(\"code\",[t._v(\"qrcode\")]),t._v(\" link\\nfound in the \"),o(\"code\",[t._v(\"\\\\_embedded\")]),t._v(\" object located at the bottom of the\\nresponse in Postman. Open this URL in a new tab of your\\nfavorite browser.\")])]),t._v(\" \"),o(\"h3\",{attrs:{id:\"enroll-the-factor\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#enroll-the-factor\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Enroll the factor\")]),t._v(\" \"),o(\"p\",[t._v(\"After adding a factor to an Okta user, the next step is to have\\nthe user setup their factor and then prove that they have done\\nthat by answering a challenge with their token.\")]),t._v(\" \"),o(\"p\",[t._v(\"Continuing on from the steps above:\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Open Google Authenticator on your phone.\")]),t._v(\" \"),o(\"li\",[t._v(\"Tap the \"),o(\"strong\",[t._v(\"+\")]),t._v(\" button in Google Authenticator.\")]),t._v(\" \"),o(\"li\",[t._v(\"Select the \"),o(\"strong\",[t._v(\"Scan barcode\")]),t._v(\" option.\")]),t._v(\" \"),o(\"li\",[t._v(\"Scan the QR Code on the browser tab you opened previously.\")]),t._v(\" \"),o(\"li\",[t._v(\"Switch to Postman on your computer.\")]),t._v(\" \"),o(\"li\",[t._v(\"From the \"),o(\"strong\",[t._v(\"Factors (Okta API)\")]),t._v(\" collection, select the \"),o(\"strong\",[t._v(\"POST\\nActivate TOTP Factor\")]),t._v(\" request template.\")]),t._v(\" \"),o(\"li\",[t._v(\"Replace the \"),o(\"code\",[t._v(\"{userId}\")]),t._v(\" and \"),o(\"code\",[t._v(\"{factorId}\")]),t._v(\" templates with the\\nUser ID and Factor ID values that you've copied previously.\")]),t._v(\" \"),o(\"li\",[t._v(\"In the JSON body, replace the \"),o(\"code\",[t._v(\"passCode\")]),t._v(\" value with the\\npasscode shown on Google Authenticator.\")]),t._v(\" \"),o(\"li\",[t._v(\"Click the blue \"),o(\"strong\",[t._v(\"Send\")]),t._v(\" button.\")])]),t._v(\" \"),o(\"h3\",{attrs:{id:\"verifying-the-factor\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#verifying-the-factor\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Verifying the factor\")]),t._v(\" \"),o(\"p\",[t._v(\"Now that you've verified the factor, you are ready to start\\nverifying MFA tokens! Here is how to do that using Postman:\")]),t._v(\" \"),o(\"ol\",[o(\"li\",[t._v(\"Open the \"),o(\"strong\",[t._v(\"Factors (Okta API)\")]),t._v(\" collection in Postman.\")]),t._v(\" \"),o(\"li\",[t._v(\"Select the \"),o(\"strong\",[t._v(\"POST Verify TOTP Factor\")]),t._v(\" request template.\")]),t._v(\" \"),o(\"li\",[t._v(\"Replace the \"),o(\"code\",[t._v(\"{userId}\")]),t._v(\" and \"),o(\"code\",[t._v(\"{factorId}\")]),t._v(\" templates with the\\nUser ID and Factor ID values that you've copied previously.\")]),t._v(\" \"),o(\"li\",[t._v(\"In the JSON body, replace the \"),o(\"code\",[t._v(\"passCode\")]),t._v(\" value with the\\npasscode shown on Google Authenticator.\")]),t._v(\" \"),o(\"li\",[t._v(\"Click the blue \"),o(\"strong\",[t._v(\"Send\")]),t._v(\" button.\")]),t._v(\" \"),o(\"li\",[t._v(\"A successful verification of a token will result in an HTTP\\nstatus code of \"),o(\"code\",[t._v(\"200\")]),t._v(\", with a JSON payload containing the key\\n\"),o(\"code\",[t._v(\"factorResult\")]),t._v(\" with the value of \"),o(\"code\",[t._v(\"SUCCESS\")]),t._v(\".\\n(Unsuccessful verification attempts will result in an HTTP\\nstatus code of \"),o(\"code\",[t._v(\"403\")]),t._v(\", with a JSON payload containing the key \"),o(\"code\",[t._v(\"errorCode\")]),t._v(\").\")])]),t._v(\" \"),o(\"h2\",{attrs:{id:\"learn-more\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#learn-more\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Learn more\")]),t._v(\" \"),o(\"p\",[t._v(\"At this point, you should understand how to use the Okta API to add\\nMFA to an existing application. You can learn more about using the\\nOkta MFA API with the following resources.\")]),t._v(\" \"),o(\"ul\",[o(\"li\",[t._v(\"The video in this guide.\\nThese instructions only cover part of what is covered in the video.\")]),t._v(\" \"),o(\"li\",[t._v(\"The \"),o(\"a\",{attrs:{href:\"/docs/getting_started/design_principles\"}},[t._v(\"design principles for the Okta API\")]),t._v(\".\")]),t._v(\" \"),o(\"li\",[t._v(\"The API documentation for the \"),o(\"a\",{attrs:{href:\"/docs/api/resources/factors\"}},[t._v(\"Okta Factors API\")]),t._v(\".\")]),t._v(\" \"),o(\"li\",[t._v(\"The API documentation for the \"),o(\"a\",{attrs:{href:\"/docs/api/resources/authn\"}},[t._v(\"Okta Authentication API\")]),t._v(\".\")])])])},[],!1,null,null,null);n.options.__file=\"index.md\";e.default=n.exports}}]);","extractedComments":[]}