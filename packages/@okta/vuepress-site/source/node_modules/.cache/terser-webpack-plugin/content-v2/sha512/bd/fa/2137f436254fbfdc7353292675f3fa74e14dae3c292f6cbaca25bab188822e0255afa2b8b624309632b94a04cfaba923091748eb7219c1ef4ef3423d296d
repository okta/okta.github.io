{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{470:function(t,s,a){\"use strict\";a.r(s);var n={props:[\"slot-key\"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit(\"AsyncMarkdownContentMounted\",this.slotKey)})}},e=a(5),o=Object(e.a)(n,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.slotKey}},[a(\"h2\",{attrs:{id:\"okta-auth-sdk-guide\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#okta-auth-sdk-guide\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Okta Auth SDK Guide\")]),t._v(\" \"),a(\"p\",[t._v(\"The Okta Auth SDK builds on top of our \"),a(\"a\",{attrs:{href:\"/docs/api/resources/authn\"}},[t._v(\"Authentication API\")]),t._v(\" and \"),a(\"a\",{attrs:{href:\"/docs/api/resources/oidc\"}},[t._v(\"OpenID Connect API\")]),t._v(\" to enable you to create a fully branded sign-in experience using JavaScript.\")]),t._v(\" \"),a(\"p\",[t._v(\"The Okta Auth SDK is used by Okta's \"),a(\"a\",{attrs:{href:\"/code/javascript/okta_sign-in_widget\"}},[t._v(\"Sign-in Widget\")]),t._v(\" which powers the default Okta sign-in page. If you are building a JavaScript front end or Single Page App (SPA), the Auth SDK gives you added control and customization beyond what is possible with the Widget.\")]),t._v(\" \"),a(\"p\",[t._v(\"In this guide you will learn how to use the Auth SDK on a simple static page to:\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"Retrieve and store an OpenID Connect (OIDC) token\")]),t._v(\" \"),a(\"li\",[t._v(\"Get an Okta session\")])]),t._v(\" \"),a(\"p\",[t._v(\"If you'd like to explore the entire Auth SDK, please see the \"),a(\"a\",{attrs:{href:\"https://github.com/okta/okta-auth-js\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Okta AuthJS Source & API Reference\"),a(\"OutboundLink\")],1),t._v(\".\")]),t._v(\" \"),a(\"h2\",{attrs:{id:\"prerequisites\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#prerequisites\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Prerequisites\")]),t._v(\" \"),a(\"p\",[t._v(\"You will need the following things for this guide:\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"An Okta org - If you don't have an existing org, register for \"),a(\"a\",{attrs:{href:\"https://developer.okta.com/signup/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Okta Developer Edition\"),a(\"OutboundLink\")],1),t._v(\".\")]),t._v(\" \"),a(\"li\",[t._v(\"An OpenID Connect Application. Instructions for creating one can be found on \"),a(\"a\",{attrs:{href:\"https://help.okta.com/en/prev/Content/Topics/Apps/Apps_App_Integration_Wizard.htm\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"this page\"),a(\"OutboundLink\")],1),t._v(', under the \"OpenID Connect Wizard\" section.')]),t._v(\" \"),a(\"li\",[t._v(\"At least one User \"),a(\"a\",{attrs:{href:\"https://help.okta.com/en/prod/Content/Topics/Apps/Apps_Apps_Page.htm#Assigning\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"assigned to the Application\"),a(\"OutboundLink\")],1),t._v(\".\")]),t._v(\" \"),a(\"li\",[t._v('An entry in your Org\\'s \"Trusted Origins\" for your application. To do this, follow the steps found under the \"Trusted Origins tab\" section in our '),a(\"a\",{attrs:{href:\"https://help.okta.com/en/prev/Content/Topics/Security/API.htm\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"API Security help page\"),a(\"OutboundLink\")],1),t._v(\".\")])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"installation\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#installation\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Installation\")]),t._v(\" \"),a(\"p\",[t._v(\"Include the following script tag in your target web page:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-html extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-html\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"script\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token attr-name\"}},[t._v(\"src\")]),a(\"span\",{attrs:{class:\"token attr-value\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"https://ok1static.oktacdn.com/assets/js/sdk/okta-auth-js/{{ site.versions.okta_auth_js }}/okta-auth-js.min.js\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),a(\"span\",{attrs:{class:\"token attr-name\"}},[t._v(\"type\")]),a(\"span\",{attrs:{class:\"token attr-value\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"text/javascript\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),a(\"span\",{attrs:{class:\"token script language-javascript\"}}),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"script\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])]),a(\"h2\",{attrs:{id:\"part-1-retrieve-and-store-an-openid-connect-token\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#part-1-retrieve-and-store-an-openid-connect-token\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Part 1: Retrieve and Store an OpenID Connect Token\")]),t._v(\" \"),a(\"p\",[t._v(\"In this first section you will learn how to:\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"Configure your Okta Auth SDK Client\")]),t._v(\" \"),a(\"li\",[t._v(\"Retrieve an ID Token using a redirect to your Okta org's sign-in page\")]),t._v(\" \"),a(\"li\",[t._v(\"Parse a token from the URL that results from the redirect\")]),t._v(\" \"),a(\"li\",[t._v(\"Store the parsed token inside the SDK's Token Manager\")]),t._v(\" \"),a(\"li\",[t._v(\"Retrieve the stored token from the Token Manager\")])]),t._v(\" \"),a(\"p\",[t._v(\"If you'd like to see the complete code example, you can find it \"),a(\"a\",{attrs:{href:\"#complete-openid-connect-token-example\"}},[t._v(\"below\")]),t._v(\".\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"client-configuration\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#client-configuration\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Client Configuration\")]),t._v(\" \"),a(\"p\",[t._v(\"To initialize the SDK, create a new instance of the \"),a(\"code\",[t._v(\"OktaAuth\")]),t._v(\" object:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" authClient \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"OktaAuth\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://{yourOktaDomain}'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  clientId\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'0oab4exampleR4Jbi0h7'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  redirectUri\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://localhost:3333'\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"Replace each of these property values with ones from your Okta org and application. For more information about these properties, see the [Client Configuration section of the Auth SDK reference][authjs-client-configuration].\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"retrieve-id-token-from-okta\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#retrieve-id-token-from-okta\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Retrieve ID Token from Okta\")]),t._v(\" \"),a(\"p\",[t._v(\"To retrieve an ID Token from Okta, you will use the \"),a(\"code\",[t._v(\"token.getWithRedirect\")]),t._v(\" method, specifying that you want an \"),a(\"code\",[t._v(\"id_token\")]),t._v(\" included in the response:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getWithRedirect\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  responseType\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'id_token'\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),a(\"p\",[a(\"a\",{attrs:{href:\"https://github.com/okta/okta-auth-js#tokengetwithredirectoptions\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Read more about getWithRedirect in the Auth SDK Reference\"),a(\"OutboundLink\")],1),t._v(\".\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"parse-the-token\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#parse-the-token\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Parse the Token\")]),t._v(\" \"),a(\"p\",[t._v(\"After the redirect, the URL will contain an ID Token in the form of a JWT. The \"),a(\"code\",[t._v(\"token.parseFromUrl\")]),t._v(\" method can be used to parse that token from the URL:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parseFromUrl\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"You can also display a specific part of the parsed token:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token template-string\"}},[a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"`hi \")]),a(\"span\",{attrs:{class:\"token interpolation\"}},[a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"${\")]),t._v(\"idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"claims\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"email\"),a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"}\")])]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"!`\")])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),a(\"p\",[a(\"a\",{attrs:{href:\"https://github.com/okta/okta-auth-js#tokenparsefromurloptions\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Read more about parseFromUrl in the Auth SDK Reference\"),a(\"OutboundLink\")],1),t._v(\".\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"store-the-parsed-token\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#store-the-parsed-token\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Store the Parsed Token\")]),t._v(\" \"),a(\"p\",[t._v(\"Once the token has been parsed out of the URL, you can add it to the Token Manager using the \"),a(\"code\",[t._v(\"tokenManager.add\")]),t._v(\" method:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tokenManager\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"add\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'idToken'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),a(\"p\",[a(\"a\",{attrs:{href:\"https://github.com/okta/okta-auth-js#tokenmanageraddkey-token\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Read more about tokenManager.add in the Auth SDK Reference\"),a(\"OutboundLink\")],1),t._v(\".\")]),t._v(\" \"),a(\"p\",[t._v(\"The full code to parse the token, display the email from it, and then add it to the SDK's Token Manager looks like this:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parseFromUrl\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"idToken \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token template-string\"}},[a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"`hi \")]),a(\"span\",{attrs:{class:\"token interpolation\"}},[a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"${\")]),t._v(\"idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"claims\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"email\"),a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"}\")])]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"!`\")])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tokenManager\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"add\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'idToken'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),a(\"h3\",{attrs:{id:\"retrieve-the-stored-token\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#retrieve-the-stored-token\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Retrieve the Stored Token\")]),t._v(\" \"),a(\"p\",[t._v(\"A token that is stored in the Token Manager can be retrieved using the \"),a(\"code\",[t._v(\"tokenManager.get\")]),t._v(\" method:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tokenManager\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'idToken'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Token is valid\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Token has expired\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),a(\"p\",[a(\"a\",{attrs:{href:\"https://github.com/okta/okta-auth-js#tokenmanagergetkey\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Read more about tokenManager.get in the Auth SDK Reference\"),a(\"OutboundLink\")],1),t._v(\".\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"complete-openid-connect-token-example\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#complete-openid-connect-token-example\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Complete OpenID Connect Token Example\")]),t._v(\" \"),a(\"p\",[t._v(\"Putting it all together, the final example looks like this:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-html extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-html\"}},[a(\"code\",[t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"script\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token attr-name\"}},[t._v(\"src\")]),a(\"span\",{attrs:{class:\"token attr-value\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"https://ok1static.oktacdn.com/assets/js/sdk/okta-auth-js/{{ site.versions.okta_auth_js }}/okta-auth-js.min.js\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),a(\"span\",{attrs:{class:\"token attr-name\"}},[t._v(\"type\")]),a(\"span\",{attrs:{class:\"token attr-value\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"text/javascript\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),a(\"span\",{attrs:{class:\"token script language-javascript\"}}),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"script\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"body\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"script\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),a(\"span\",{attrs:{class:\"token script language-javascript\"}},[t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Bootstrap the AuthJS Client\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" authClient \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"OktaAuth\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Org URL\")]),t._v(\"\\n      url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://{yourOktaDomain}'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// OpenID Connect APP Client ID\")]),t._v(\"\\n      clientId\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'0oab4qpkhz1UR4Jbi0h7'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Trusted Origin Redirect URI\")]),t._v(\"\\n      redirectUri\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://localhost:3333'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Attempt to retrieve ID Token from Token Manager\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" idToken \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tokenManager\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'idToken'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"idToken \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// If ID Token exists, output it to the console\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token template-string\"}},[a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"`hi \")]),a(\"span\",{attrs:{class:\"token interpolation\"}},[a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"${\")]),t._v(\"idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"claims\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"email\"),a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"}\")])]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"!`\")])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// If ID Token isn't found, try to parse it from the current URL\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"location\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"hash\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parseFromUrl\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"idToken \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token template-string\"}},[a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"`hi \")]),a(\"span\",{attrs:{class:\"token interpolation\"}},[a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"${\")]),t._v(\"idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"claims\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"email\"),a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"}\")])]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"!`\")])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Store parsed token in Token Manager\")]),t._v(\"\\n          authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tokenManager\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"add\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'idToken'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n          console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// You're not logged in, you need a sessionToken\")]),t._v(\"\\n        authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getWithRedirect\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          responseType\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'id_token'\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \")]),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"script\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"body\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\n\")])])]),a(\"h2\",{attrs:{id:\"part-2-get-an-okta-session-cookie\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#part-2-get-an-okta-session-cookie\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Part 2: Get an Okta Session Cookie\")]),t._v(\" \"),a(\"p\",[t._v(\"In the code example above, the ID Token is retrieved using a redirect to the Okta sign-in page. It is also possible to take a user-inputted \"),a(\"code\",[t._v(\"username\")]),t._v(\" and \"),a(\"code\",[t._v(\"password\")]),t._v(\" pair and pass them to the \"),a(\"code\",[t._v(\"signIn\")]),t._v(\" method. This method then initiates an authentication process which returns an \"),a(\"a\",{attrs:{href:\"/use_cases/authentication/session_cookie#retrieving-a-session-cookie-by-visiting-a-session-redirect-link\"}},[t._v(\"Okta session cookie\")]),t._v(\". This Okta session cookie can then be used, along with the \"),a(\"code\",[t._v(\"getWithRedirect\")]),t._v(\" method, to get back the ID Token. This means that there is no need to redirect the user to the Okta sign-in page.\")]),t._v(\" \"),a(\"p\",[a(\"a\",{attrs:{href:\"https://github.com/okta/okta-auth-js#signinoptions\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Read more about signIn in the Auth SDK Reference\"),a(\"OutboundLink\")],1),t._v(\".\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// You're not logged in, you need a sessionToken\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" username \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"prompt\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'What is your username?'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" password \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"prompt\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'What is your password?'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n  authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"signIn\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"username\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" password\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"status \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'SUCCESS'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getWithRedirect\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        sessionToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"sessionToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        responseType\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'id_token'\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),a(\"blockquote\",[a(\"p\",[t._v(\"This example, like everything else on this page, is for illustrative purposes only. The \"),a(\"code\",[t._v(\"prompt()\")]),t._v(\" method is not considered a secure way of asking for user authentication credentials.\")])]),t._v(\" \"),a(\"h4\",{attrs:{id:\"complete-okta-session-and-oidc-token-example\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#complete-okta-session-and-oidc-token-example\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Complete Okta Session and OIDC Token Example\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-html extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-html\"}},[a(\"code\",[t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"script\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token attr-name\"}},[t._v(\"src\")]),a(\"span\",{attrs:{class:\"token attr-value\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"https://ok1static.oktacdn.com/assets/js/sdk/okta-auth-js/{{ site.versions.okta_auth_js }}/okta-auth-js.min.js\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),a(\"span\",{attrs:{class:\"token attr-name\"}},[t._v(\"type\")]),a(\"span\",{attrs:{class:\"token attr-value\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"text/javascript\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),a(\"span\",{attrs:{class:\"token script language-javascript\"}}),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"script\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"body\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"script\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),a(\"span\",{attrs:{class:\"token script language-javascript\"}},[t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Bootstrap the AuthJS Client\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" authClient \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"OktaAuth\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Org URL\")]),t._v(\"\\n      url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://{yourOktaDomain}'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// OpenID Connect APP Client ID\")]),t._v(\"\\n      clientId\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'0oab4example4Jbi0h7'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Trusted Origin Redirect URI\")]),t._v(\"\\n      redirectUri\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://localhost:3333'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Attempt to retrieve ID Token from Token Manager\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" idToken \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tokenManager\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'idToken'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"idToken \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// If ID Token exists, output it to the console\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token template-string\"}},[a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"`hi \")]),a(\"span\",{attrs:{class:\"token interpolation\"}},[a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"${\")]),t._v(\"idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"claims\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"email\"),a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"}\")])]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"!`\")])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// If ID Token isn't found, try to parse it from the current URL\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"location\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"hash\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parseFromUrl\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"idToken \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token template-string\"}},[a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"`hi \")]),a(\"span\",{attrs:{class:\"token interpolation\"}},[a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"${\")]),t._v(\"idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"claims\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"email\"),a(\"span\",{attrs:{class:\"token interpolation-punctuation punctuation\"}},[t._v(\"}\")])]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"!`\")])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Store parsed token in Token Manager\")]),t._v(\"\\n          authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tokenManager\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"add\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'idToken'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n          console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"idToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// You're not logged in, you need a sessionToken\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" username \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"prompt\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'What is your username?'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" password \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"prompt\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'What is your password?'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n        authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"signIn\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"username\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" password\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"status \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'SUCCESS'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            authClient\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getWithRedirect\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n              sessionToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"sessionToken\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n              responseType\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'id_token'\")]),t._v(\"\\n            \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \")]),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"script\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"body\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])])])},[],!1,null,null,null);o.options.__file=\"index.md\";s.default=o.exports}}]);","extractedComments":[]}